var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,n=(e,n)=>{for(var s in n||(n={}))l.call(n,s)&&o(e,s,n[s]);if(a)for(var s of a(n))t.call(n,s)&&o(e,s,n[s]);return e};import{_ as s,d as i,i as r,A as d,u,m as p}from"./index.9wSm1W-X.js";import{k as c,r as m,ag as f,c as g,o as v,P as y,G as h,J as b,H as _,u as k,L as w,t as j,n as x,h as C,S as I,aq as O,a as V,M as S,C as L,I as R,O as T,a6 as A,a4 as D}from"./@vue.CQt2tj-6.js";import{L as E}from"./dialog.sg3oaGqx.js";import{l as P}from"./fileList.GFkIKX1Q.js";import{E as U,a as F}from"./element-plus.C3E-FvSa.js";import{b as z,u as q}from"./vue-router.BmPBvlxi.js";import{m as B}from"./moduleRunLogs.BX9GqEws.js";import{l as H}from"./configEditor.DsFIzTn7.js";import{s as $}from"./softInfo.B4xrDuUY.js";import"./axios.BhTbhqQQ.js";import"./crypto-js.BjUPrIIl.js";import"./@xterm.C7qPmoRH.js";import"./js-cookie.Ch5AnFJE.js";import"./vue-clipboard3.c61pm64N.js";import"./clipboard.BBhAuw9K.js";import"./pinia.CWB7oRTw.js";import"./@element-plus.CU4brdXH.js";import"./nprogress.Dzr5m2b3.js";import"./pinia-plugin-persistedstate.DTf8V5gU.js";import"./destr.ZpApkS-1.js";import"./deep-pick-omit.DP_A4OSP.js";import"./lodash-es.CUM784Py.js";import"./@vueuse.7zPzjEtO.js";import"./@popperjs.DxP-MrnL.js";import"./@ctrl.D-8vaqgC.js";import"./dayjs.BpgH7LzR.js";import"./async-validator.BTKOuuO-.js";import"./memoize-one.Ds0C_khL.js";import"./normalize-wheel-es.BhHBPXsK.js";import"./@floating-ui.D1oRyyfp.js";import"./Pagination.Nl1ehftE.js";import"./index.C0GpYgjh.js";import"./vue-codemirror.k2zwy4VA.js";import"./codemirror.DMTwtLMy.js";import"./@codemirror.BTYdMWAS.js";import"./@lezer.CQ-BhAmV.js";import"./crelt.DSg10-ms.js";import"./@marijn.Df4efayV.js";import"./style-mod.Dj2YSJ7-.js";import"./w3c-keyname.f-y9tSbI.js";const M=s({__name:"moduleAdd",emits:["refreshData","closed"],setup(e,{expose:a,emit:l}){const t=i(),o=l;let s=c((()=>"windows"==t.sysConfig.currentOs)),u=m(!1),p=m(!1),C=m(""),I="add",O=m({path:"",nums:1,user:"",command:"",name:""}),V=m({}),S=m(!1),L=m(null);let R=m({name:[{required:!0,validator:function(e,a,l){a?/^[a-zA-Z0-9]+$/.test(a)?l():l(new Error("\u53ea\u80fd\u8f93\u5165\u5b57\u6bcd\u548c\u6570\u5b57")):l(new Error("\u8bf7\u8f93\u5165\u5b57\u6bcd\u548c\u6570\u5b57"))},trigger:"blur"}],nums:[{required:!0,message:"\u8bf7\u8f93\u5165\u8fdb\u7a0b\u6570\u91cf",trigger:"blur"}],path:[{required:!0,message:"\u8bf7\u9009\u62e9\u9879\u76ee\u76ee\u5f55",trigger:"blur"}],command:[{required:!0,message:"\u8bf7\u8f93\u5165\u542f\u52a8\u547d\u4ee4",trigger:"blur"}]});function T(){o("closed")}let A=m(null);function D(e){let a=r(e);O.value.path=a,x((()=>{A.value.blur()}))}function F(){S.value=!0,x((()=>{L.value.handleOpen({path:O.value.path,isDir:!0},"\u76ee\u5f55\u9009\u62e9")}))}let z=m(null);function q(){z.value.validate((e=>{if(e){let e=n({},O.value);e.action="add_process","edit"==I&&(e.action="edit_process"),t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u4fdd\u5b58\u4e2d...",d.sysSupervisormg(e).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.success(e.msg),T(),o("refreshData")):U.warning(e.msg)}))}}))}return a({handleOpen:function(e,a){if(C.value=a,u.value=!0,e){I="edit";let a=r(e);O.value=a,V.value=r(e)}else s.value||(O.value.user="root")}}),(e,a)=>{const l=f("el-alert"),t=f("el-input"),o=f("el-form-item"),n=f("el-button"),i=f("el-form");return v(),g("div",null,[y(E,{modelValue:k(u),"onUpdate:modelValue":a[5]||(a[5]=e=>j(u)?u.value=e:u=e),title:k(C),width:"680px","before-close":T,showFullScreen:!1},{footer:_((()=>[y(n,{onClick:T,loading:k(p)},{default:_((()=>a[8]||(a[8]=[w("\u53d6\u6d88")]))),_:1},8,["loading"]),y(n,{type:"primary",onClick:q,loading:k(p)},{default:_((()=>a[9]||(a[9]=[w("\u4fdd\u5b58")]))),_:1},8,["loading"])])),default:_((()=>[y(i,{inline:!1,model:k(O),rules:k(R),ref_key:"rulesForm",ref:z,"label-position":"right","label-width":"auto"},{default:_((()=>[k(s)?b("",!0):(v(),h(l,{key:0,type:"warning",style:{"margin-bottom":"10px"}},{default:_((()=>a[7]||(a[7]=[w("\u542f\u52a8\u547d\u4ee4\u6700\u597d\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0c\u591a\u4e2a\u547d\u4ee4\u8bf7\u4f7f\u7528 && \u5206\u5272")]))),_:1})),y(o,{label:"\u540d\u79f0\uff1a",prop:"name"},{default:_((()=>[y(t,{modelValue:k(O).name,"onUpdate:modelValue":a[0]||(a[0]=e=>k(O).name=e),placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0\uff08\u4e0d\u652f\u6301\u4e2d\u6587\uff09","max-length":"30",disabled:"edit"==k(I)},null,8,["modelValue","disabled"])])),_:1}),k(s)?b("",!0):(v(),h(o,{key:1,label:"\u542f\u52a8\u7528\u6237\uff1a",prop:"user"},{default:_((()=>[y(t,{modelValue:k(O).user,"onUpdate:modelValue":a[1]||(a[1]=e=>k(O).user=e),placeholder:"\u8bf7\u8f93\u5165\u542f\u52a8\u7528\u6237","max-length":"30"},null,8,["modelValue"])])),_:1})),y(o,{label:"\u9879\u76ee\u76ee\u5f55\uff1a",prop:"path"},{default:_((()=>[y(t,{modelValue:k(O).path,"onUpdate:modelValue":a[2]||(a[2]=e=>k(O).path=e),placeholder:"\u8bf7\u9009\u62e9\u9879\u76ee\u76ee\u5f55",class:"selectDirs",ref_key:"PathInputElement",ref:A},{prepend:_((()=>[y(n,{onClick:F,icon:"Folder",type:"primary"})])),_:1},8,["modelValue"])])),_:1}),y(o,{label:"\u542f\u52a8\u547d\u4ee4\uff1a",prop:"command"},{default:_((()=>[y(t,{modelValue:k(O).command,"onUpdate:modelValue":a[3]||(a[3]=e=>k(O).command=e),type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"\u5982\uff1apython manage.py runserver 0.0.0.0:8000",maxlength:"300"},null,8,["modelValue"])])),_:1}),y(o,{label:"\u8fdb\u7a0b\u6570\u91cf\uff1a",prop:"nums"},{default:_((()=>[y(t,{modelValue:k(O).nums,"onUpdate:modelValue":a[4]||(a[4]=e=>k(O).nums=e),placeholder:"\u8bf7\u8f93\u5165\u8fdb\u7a0b\u6570\u91cf",type:"number",min:1},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]),k(S)?(v(),h(P,{key:0,ref_key:"chooseDirShowFlag",ref:L,onChange:D,onClosed:a[6]||(a[6]=e=>j(S)?S.value=!1:S=!1)},null,512)):b("",!0)])}}},[["__scopeId","data-v-340b52bb"]]),G={class:"lyflex"},N={class:"lyflex"},K={class:"lyflex"},J={class:"handle-top"},Q={class:"search-input"},X={class:"lyczj"},Z=["onClick"],W={style:{display:"flex","align-items":"center"}},Y={key:0},ee={key:1,class:"softmask"},ae={key:2,class:"soft-ins-guide-dialog"},le=s({__name:"moduleTable",setup(e,{expose:a}){const l=z(),t=i(),o=u();let s=c((()=>o.ismobile)),r=c((()=>"windows"==t.sysConfig.currentOs)),E=m(!1),P=m(300),q=m(null),le=m(null),te=m(null),oe=m(null),ne=m({installed:!1,version:"",status:!1,name:"",ping:!1}),se=m({}),ie=m([]),re=[{id:"",name:"\u6240\u6709"},{id:!0,name:"\u5df2\u5f00\u542f"},{id:!1,name:"\u5df2\u505c\u6b62"}],de=m(!1),ue=m(null);function pe(){de.value=!0,x((()=>{ue.value.handleOpen(ne.value,"\u3010"+ne.value.name+"("+ne.value.version+")\u3011\u7ba1\u7406")}))}function ce(){E.value=!0;let e=n({},se.value);d.sysGetSupervisormg(e).then((e=>{E.value=!1,2e3===e.code&&(ie.value=e.data)}))}function me(){se.value.page=1,ce()}function fe(e="stop"){let a="\u786e\u5b9a\u8981\u505c\u6b62\u5417\uff1f",l=!1,o="\u542f\u52a8\u6210\u529f";"stop"==e?(t.loadingInfo.content="\u6b63\u5728\u505c\u6b62\u4e2d...",l=!1,o="\u505c\u6b62\u6210\u529f"):"reload"==e?(t.loadingInfo.content="\u6b63\u5728\u91cd\u8f7d\u914d\u7f6e\u4e2d...",a="\u786e\u5b9a\u8981\u91cd\u8f7d\u914d\u7f6e\u5417\uff1f",l=ne.value.status,o="\u91cd\u8f7d\u914d\u7f6e\u6210\u529f"):"restart"==e&&(t.loadingInfo.content=ne.value.status?"\u6b63\u5728\u91cd\u542f\u4e2d...":"\u6b63\u5728\u542f\u52a8\u4e2d...",a=ne.value.status?"\u786e\u5b9a\u8981\u91cd\u542f\u5417\uff1f":"\u786e\u5b9a\u8981\u542f\u52a8\u5417\uff1f",l=!0,o=ne.value.status?"\u91cd\u542f\u6210\u529f":"\u542f\u52a8\u6210\u529f"),F.confirm(`${a}`,"\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((a=>{t.loadingInfo.isLoading=!0,d.sysSoftManage({id:ne.value.id,status:e,action:"status"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.success(o),ne.value.status=l):U.warning(e.msg)}))})).catch((()=>{}))}function ge(e="stop",a){let l="\u786e\u5b9a\u8981\u505c\u6b62\u5417\uff1f",o="\u542f\u52a8\u6210\u529f";a.status,"stop"==e?(t.loadingInfo.content="\u6b63\u5728\u505c\u6b62\u4e2d...",o="\u505c\u6b62\u6210\u529f"):"restart"==e?(t.loadingInfo.content="\u6b63\u5728\u91cd\u542f\u4e2d...",l="\u786e\u5b9a\u8981\u91cd\u542f\u5417\uff1f",o="\u91cd\u542f\u6210\u529f"):"start"==e&&(t.loadingInfo.content="\u6b63\u5728\u542f\u52a8\u4e2d...",l="\u786e\u5b9a\u8981\u542f\u52a8\u5417\uff1f",o="\u542f\u52a8\u6210\u529f"),F.confirm(`${l}`,"\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((l=>{t.loadingInfo.isLoading=!0,d.sysSupervisormg({name:a.name,action:"set_status",status:e}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.success(o),ce()):U.warning(e.msg)}))})).catch((()=>{}))}let ve=m(!1),ye=m(null);function he(){ve.value=!0,x((()=>{ye.value.handleOpen(null,"\u6dfb\u52a0\u5b88\u62a4\u8fdb\u7a0b")}))}let be=m(null),_e=m(!1);function ke(){l.push({path:"/appstore"})}let we=m(null),je=m(!1);function xe(e=!1){let a=oe.value?oe.value.offsetHeight:0,l=te.value?te.value.offsetHeight:0,t=le.value?le.value.offsetHeight:0;P.value=function(e,a=!1){var l=a?60:0;let t=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-e;var o=navigator.userAgent;return o&&/Android/.test(o)||o&&/iPhone|ipad|ipod|ios/.test(o)?600:t-l}(t+l+a-112,e)}function Ce(){x((()=>{xe()}))}return C((()=>{window.addEventListener("resize",Ce),Ce()})),I((()=>{window.removeEventListener("resize",Ce)})),a({RefreshData:function(){!function(e="supervisor"){""!=e&&(t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u83b7\u53d6...",d.sysSoftinfoMg({name:e,action:"get_soft_info"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?ne.value=e.data:U.warning(e.msg)})))}(),ce()}}),(e,a)=>{const o=f("el-tag"),n=f("el-button"),i=f("el-divider"),u=f("el-card"),c=f("el-col"),m=f("el-option"),C=f("el-select"),I=f("el-input"),z=f("el-row"),te=f("el-table-column"),xe=f("el-tooltip"),Ce=f("QuestionFilled"),Ie=f("el-icon"),Oe=f("el-table"),Ve=f("InfoFilled"),Se=O("loading");return v(),g("div",null,[V("div",{style:{"margin-bottom":"20px"},class:"lystatuscard",ref_key:"tableStatusTabs",ref:oe},[y(u,{shadow:"hover",style:L({overflowX:k(s)?"auto":"none"})},{default:_((()=>[V("div",G,[y(o,{style:{"margin-right":"20px"},effect:"dark",type:"success"},{default:_((()=>[w(S(k(ne).name||"\u672a\u77e5"),1)])),_:1}),y(o,{style:{"margin-right":"20px"},type:k(ne).installed?"success":"info"},{default:_((()=>[w(S(k(ne).installed?"\u5df2\u5b89\u88c5":"\u672a\u5b89\u88c5"),1)])),_:1},8,["type"]),y(o,{style:{"margin-right":"20px"}},{default:_((()=>[w("\u7248\u672c: "+S(k(ne).version||"\u672a\u77e5"),1)])),_:1}),y(o,{style:{"margin-right":"20px"},type:k(ne).status?"success":"danger"},{default:_((()=>[w("\u72b6\u6001: "+S(k(ne).status?"\u5df2\u542f\u52a8":"\u672a\u542f\u52a8"),1)])),_:1},8,["type"]),V("div",N,[y(n,{type:"primary",link:"",onClick:a[0]||(a[0]=e=>fe("stop")),disabled:!k(ne).installed},{default:_((()=>a[12]||(a[12]=[w("\u505c\u6b62")]))),_:1},8,["disabled"]),y(i,{direction:"vertical"}),y(n,{type:"primary",link:"",onClick:a[1]||(a[1]=e=>fe("restart")),disabled:!k(ne).installed},{default:_((()=>[w(S(k(ne).status?"\u91cd\u542f":"\u542f\u52a8"),1)])),_:1},8,["disabled"])]),V("div",K,[y(i,{direction:"vertical"}),y(n,{type:"primary",link:"",onClick:pe,disabled:!k(ne).installed},{default:_((()=>a[13]||(a[13]=[w(S("\u8bbe\u7f6e"))]))),_:1},8,["disabled"])])])])),_:1},8,["style"])],512),V("div",{ref_key:"tableSelect",ref:le},[V("div",J,[y(z,null,{default:_((()=>[y(c,{xs:24,sm:16,md:16,lg:16,xl:16},{default:_((()=>[y(n,{type:"primary",icon:"plus",onClick:he},{default:_((()=>a[14]||(a[14]=[w("\u6dfb\u52a0\u5b88\u62a4\u8fdb\u7a0b")]))),_:1}),y(n,{icon:"refresh",circle:"",onClick:me})])),_:1}),y(c,{xs:24,sm:8,md:8,lg:8,xl:8},{default:_((()=>[V("div",Q,[y(C,{modelValue:k(se).status,"onUpdate:modelValue":a[2]||(a[2]=e=>k(se).status=e),style:{width:"180px","margin-right":"10px"},filterable:"",clearable:"",onChange:a[3]||(a[3]=e=>me())},{prefix:_((()=>a[15]||(a[15]=[w("\u72b6\u6001")]))),default:_((()=>[(v(!0),g(T,null,A(k(re),(e=>(v(),h(m,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),y(I,{modelValue:k(se).search,"onUpdate:modelValue":a[4]||(a[4]=e=>k(se).search=e),clearable:"",onClear:a[5]||(a[5]=e=>me()),"suffix-icon":"Search",onKeyup:a[6]||(a[6]=D((e=>me()),["enter"])),onChange:a[7]||(a[7]=e=>me()),placeholder:"\u641c\u7d22 \u540d\u79f0"},null,8,["modelValue"])])])),_:1})])),_:1})]),R((v(),h(Oe,{data:k(ie),ref_key:"ruyitableRef",ref:q,height:k(P),style:{width:"100%","border-top":"1px solid var(--el-border-color-lighter)"},"header-cell-class-name":"table-header-style"},{default:_((()=>[y(te,{prop:"name",label:"\u540d\u79f0","min-width":"100"}),y(te,{prop:"command",label:"\u542f\u52a8\u547d\u4ee4","min-width":"130","show-overflow-tooltip":""}),y(te,{prop:"path",label:"\u9879\u76ee\u76ee\u5f55","min-width":"80"},{default:_((e=>[V("div",X,[y(xe,{effect:"dark",content:e.row.path,placement:"bottom"},{default:_((()=>[V("img",{class:"ruyi-fileicons",src:p,onClick:a=>{var o;(o=e.row).path&&(t.fileInfo.currentDir=o.path,l.push({path:"/files"}))}},null,8,Z)])),_:2},1032,["content"])])])),_:1}),k(r)?b("",!0):(v(),h(te,{key:0,prop:"user",label:"\u542f\u52a8\u7528\u6237",width:"90"})),y(te,{prop:"nums",label:"\u8fdb\u7a0b\u6570\u91cf",width:"90"}),y(te,{prop:"status",label:"\u542f\u52a8\u72b6\u6001",width:"130"},{default:_((({row:e})=>[e.status?(v(),h(n,{key:0,link:"",type:"success",icon:"VideoPlay",onClick:a=>ge("stop",e)},{default:_((()=>a[16]||(a[16]=[w(" \u5df2\u542f\u52a8 ")]))),_:2},1032,["onClick"])):(v(),h(n,{key:1,link:"",type:"danger",icon:"VideoPause",onClick:a=>ge("start",e)},{default:_((()=>a[17]||(a[17]=[w(" \u5df2\u505c\u6b62 ")]))),_:2},1032,["onClick"]))])),_:1}),y(te,{prop:"status_name",label:"\u8fdb\u7a0b\u72b6\u6001",width:"130"},{header:_((()=>[V("div",W,[a[18]||(a[18]=V("div",null,"\u8fdb\u7a0b\u72b6\u6001",-1)),y(xe,{effect:"dark",content:"RUNNING\uff1a\u8fd0\u884c\u4e2d<br/>FATAL\uff1a\u8fd0\u884c\u5931\u8d25<br/>STARTING\uff1a\u6b63\u5728\u542f\u52a8<br/>STOPED\uff1a\u4efb\u52a1\u5df2\u505c\u6b62","raw-content":!0,placement:"top-start"},{default:_((()=>[y(Ie,{style:{"margin-left":"5px"}},{default:_((()=>[y(Ce)])),_:1})])),_:1})])])),default:_((({row:e})=>[""==e.error?(v(),g("span",Y,S(e.status_name),1)):(v(),h(xe,{key:1,effect:"dark",content:e.error,placement:"top-start"},{default:_((()=>[w(S(e.status_name),1)])),_:2},1032,["content"]))])),_:1}),y(te,{fixed:!k(s)&&"right",label:"\u64cd\u4f5c",width:"240"},{default:_((e=>[y(n,{link:"",type:"primary",onClick:a=>{return l=e.row,ve.value=!0,void x((()=>{ye.value.handleOpen(l,"\u7f16\u8f91\u5b88\u62a4\u8fdb\u7a0b")}));var l}},{default:_((()=>a[19]||(a[19]=[w("\u7f16\u8f91")]))),_:2},1032,["onClick"]),y(n,{link:"",type:"primary",onClick:a=>{return l=e.row,je.value=!0,void x((()=>{let e={name:l.name,action:"get_conf"},a={name:l.name,action:"save_conf"};we.value.handleOpen(e,a,"javascript",`\u7f16\u8f91\u3010${l.name}\u3011\u914d\u7f6e`)}));var l}},{default:_((()=>a[20]||(a[20]=[w("\u914d\u7f6e")]))),_:2},1032,["onClick"]),y(n,{link:"",type:"primary",onClick:a=>ge("restart",e.row)},{default:_((()=>a[21]||(a[21]=[w("\u91cd\u542f")]))),_:2},1032,["onClick"]),y(n,{link:"",type:"primary",onClick:a=>{return l=e.row,_e.value=!0,void x((()=>{be.value.handleOpen({name:l.name,action:"get_process_log"},`\u3010${l.name}\u3011\u8fd0\u884c\u65e5\u5fd7`)}));var l}},{default:_((()=>a[22]||(a[22]=[w("\u65e5\u5fd7")]))),_:2},1032,["onClick"]),y(n,{link:"",type:"primary",onClick:a=>{return l=e.row,void F.confirm(`\u786e\u5b9a\u8981\u5220\u9664\u3010${l.name}\u3011\u5417\uff1f`,"\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u5220\u9664\u4e2d...",d.sysSupervisormg({name:l.name,action:"del_process"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.success(e.msg),ce()):U.warning(e.msg)}))})).catch((()=>{}));var l}},{default:_((()=>a[23]||(a[23]=[w("\u5220\u9664")]))),_:2},1032,["onClick"])])),_:1},8,["fixed"])])),_:1},8,["data","height"])),[[Se,k(E)]])],512),k(ve)?(v(),h(M,{key:0,ref_key:"moduleAddFlag",ref:ye,onRefreshData:ce,onClosed:a[8]||(a[8]=e=>j(ve)?ve.value=!1:ve=!1)},null,512)):b("",!0),k(ne).installed?b("",!0):(v(),g("div",ee)),k(ne).installed?b("",!0):(v(),g("div",ae,[y(Ie,{size:20,color:"var(--el-color-danger)",style:{"margin-right":"10px"}},{default:_((()=>[y(Ve)])),_:1}),a[25]||(a[25]=w(" \u5f53\u524d\u672a\u5b89\u88c5supervisor\u670d\u52a1 ")),y(n,{type:"primary",link:"",style:{"margin-left":"10px","font-size":"15px"},onClick:ke},{default:_((()=>a[24]||(a[24]=[w("\u53bb\u5546\u5e97\u5b89\u88c5")]))),_:1})])),k(de)?(v(),h($,{key:3,ref_key:"softInfoFlag",ref:ue,onClosed:a[9]||(a[9]=e=>j(de)?de.value=!1:de=!1)},null,512)):b("",!0),k(_e)?(v(),h(B,{key:4,ref_key:"moduleRunLogsRef",ref:be,width:"65%",height:"70vh",apiObj:k(d).sysSupervisormg,onClosed:a[10]||(a[10]=e=>j(_e)?_e.value=!1:_e=!1)},null,8,["apiObj"])):b("",!0),k(je)?(v(),h(H,{key:5,ref_key:"lyFileEditorFlag",ref:we,onRefreshData:ce,apiObj:k(d).sysSupervisormg,saveApiObj:k(d).sysSupervisormg,saveContentKey:"conf",canSave:!0,onClosed:a[11]||(a[11]=e=>j(je)?je.value=!1:je=!1),width:"70%",top:"5vh"},null,8,["apiObj","saveApiObj"])):b("",!0)])}}},[["__scopeId","data-v-ab455a15"]]),te=s({__name:"index",setup(e){const a=q(),l=i();let t=m("supervisor");c((()=>"windows"==l.sysConfig.currentOs));let o=m(null);function n(e){r({tabs:e.props.name}),s(e.props.name)}function s(e="supervisor"){"supervisor"==e&&x((()=>{o.value.RefreshData()}))}const r=e=>{const a=window.location.href,l=a.indexOf("?"),t=a.indexOf("#");let o;if(-1!==l){let n=a.slice(l+1,-1===t?void 0:t),s=new URLSearchParams(n);Object.keys(e).forEach((a=>{s.set(a,e[a])})),o=a.slice(0,l+1)+s.toString()}else{o=a+`?${new URLSearchParams(e).toString()}`}window.history.replaceState({},"",o)};return C((()=>{const e=a.query.tabs;e&&(t.value=e),s(t.value)})),(e,a)=>{const l=f("el-tab-pane"),s=f("el-tabs"),i=f("el-card"),r=f("el-main");return v(),h(r,{class:"ruyi-safe"},{default:_((()=>[y(i,{shadow:"never"},{default:_((()=>[y(s,{modelValue:k(t),"onUpdate:modelValue":a[0]||(a[0]=e=>j(t)?t.value=e:t=e),onTabClick:n},{default:_((()=>[y(l,{label:"\u8fdb\u7a0b\u5b88\u62a4",name:"supervisor"},{default:_((()=>["supervisor"==k(t)?(v(),h(le,{key:0,ref_key:"supervisorRef",ref:o},null,512)):b("",!0)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}},[["__scopeId","data-v-f8911f37"]]);export{te as default};
