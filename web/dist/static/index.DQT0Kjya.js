var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,n=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,o=(e,o)=>{for(var i in o||(o={}))a.call(o,i)&&n(e,i,o[i]);if(l)for(var i of l(o))t.call(o,i)&&n(e,i,o[i]);return e};import{r as i,ag as d,c as s,o as r,P as u,G as c,J as p,H as m,u as f,O as g,a6 as y,L as v,t as h,n as _,a as b,M as w,aq as k,I as x,h as V,W as I,C,k as S,a4 as L,V as U}from"./@vue.CQt2tj-6.js";import{_ as T,d as M,A as D,i as P,e as j,M as R,j as E,k as F,l as O,U as B,u as G,m as H}from"./index.9wSm1W-X.js";import{P as z}from"./Pagination.Nl1ehftE.js";import{L as q}from"./dialog.sg3oaGqx.js";import{l as $}from"./fileList.GFkIKX1Q.js";import{E as N,a as A}from"./element-plus.C3E-FvSa.js";import"./crypto-js.BjUPrIIl.js";import"./js-cookie.Ch5AnFJE.js";import"./clipboard.BBhAuw9K.js";import{b as Y}from"./batchOp.7HSMWQ3v.js";import{s as W}from"./softInfo.B4xrDuUY.js";import{m as K}from"./maskDialog.CqgpmrAq.js";import{b as J}from"./vue-router.BmPBvlxi.js";import{l as Z}from"./index.C0GpYgjh.js";import{_ as X}from"./index.B3LAQoLq.js";import"./axios.BhTbhqQQ.js";import"./vue-clipboard3.c61pm64N.js";import"./pinia.CWB7oRTw.js";import"./@element-plus.CU4brdXH.js";import"./nprogress.Dzr5m2b3.js";import"./@xterm.C7qPmoRH.js";import"./pinia-plugin-persistedstate.DTf8V5gU.js";import"./destr.ZpApkS-1.js";import"./deep-pick-omit.DP_A4OSP.js";import"./lodash-es.CUM784Py.js";import"./@vueuse.7zPzjEtO.js";import"./@popperjs.DxP-MrnL.js";import"./@ctrl.D-8vaqgC.js";import"./dayjs.BpgH7LzR.js";import"./async-validator.BTKOuuO-.js";import"./memoize-one.Ds0C_khL.js";import"./normalize-wheel-es.BhHBPXsK.js";import"./@floating-ui.D1oRyyfp.js";import"./vue-codemirror.k2zwy4VA.js";import"./codemirror.DMTwtLMy.js";import"./@codemirror.BTYdMWAS.js";import"./@lezer.CQ-BhAmV.js";import"./crelt.DSg10-ms.js";import"./@marijn.Df4efayV.js";import"./style-mod.Dj2YSJ7-.js";import"./w3c-keyname.f-y9tSbI.js";const Q=T({__name:"moduleAdd",emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=M(),n=a;let b=i(!1),w=i(!1),k=i("\u6dfb\u52a0\u7f51\u7ad9"),x=i({name:"",remark:"",path:t.sysConfig.wwwrootPath,group:0,type:0}),V=i([{id:0,name:"\u9ed8\u8ba4\u5206\u7ec4"}]),I=i(!1),C=i(null);let S=i({name:[{required:!0,trigger:"change",validator:function(e,l,a){const t=l.split("\n");let n=!0,o="";t.forEach(((e,l)=>{""!==e&&(function(e){return/^([\w\-\*]{1,150}\.){1,8}([\w\-]{1,30}|[\w\-]{1,30}\.[\w\-]{1,24})(?::\d{1,5})?$/.test(e)}(e)||function(e){return/^(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(?::\d{1,5})?$/.test(e)}(e)||(n=!1,o=`\u7b2c${l+1}\u884c\u683c\u5f0f\u4e0d\u6b63\u786e: ${e}`))})),n?a():a(new Error(o))}}],path:[{required:!0,message:"\u8bf7\u9009\u62e9\u7f51\u7ad9\u6839\u76ee\u5f55",trigger:"blur"}],group:[{required:!0,message:"\u8bf7\u9009\u62e9\u7f51\u7ad9\u5206\u7ec4",trigger:"blur"}]});function L(){n("closed")}function U(e){const l=e.split("\n")[0];x.value.remark=l,x.value.path=l?t.sysConfig.wwwrootPath+"/"+l.replace(/:/g,"_"):t.sysConfig.wwwrootPath}function T(){I.value=!0,_((()=>{C.value.handleOpen({path:x.value.path,isDir:!0},"\u76ee\u5f55\u9009\u62e9")}))}function j(e){let l=P(e);x.value.path=l}let R=i(null);function E(){R.value.validate((e=>{if(e){w.value=!0;const e=x.value.name.split("\n");let l=o({},x.value);l.name=e[0].split(":")[0],l.domainList=e,l.action="save_static_site",D.sysGetSitesManage(l).then((e=>{w.value=!1,2e3==e.code?(N.success(e.msg),L(),n("refreshData")):N.warning(e.msg)}))}}))}return l({handleOpen:function(e,l){k.value=l,b.value=!0,D.sysSitegroup({page:1,limit:999}).then((e=>{2e3===e.code&&(V.value=e.data.data)}))}}),(e,l)=>{const a=d("el-input"),t=d("el-form-item"),n=d("el-button"),o=d("el-option"),i=d("el-select"),_=d("el-form");return r(),s("div",null,[u(q,{modelValue:f(b),"onUpdate:modelValue":l[4]||(l[4]=e=>h(b)?b.value=e:b=e),title:f(k),width:"680px","before-close":L},{footer:m((()=>[u(n,{onClick:L,loading:f(w)},{default:m((()=>l[6]||(l[6]=[v("\u53d6\u6d88")]))),_:1},8,["loading"]),u(n,{type:"primary",onClick:E,loading:f(w)},{default:m((()=>l[7]||(l[7]=[v("\u4fdd\u5b58")]))),_:1},8,["loading"])])),default:m((()=>[u(_,{inline:!1,model:f(x),rules:f(S),ref_key:"rulesForm",ref:R,"label-position":"right","label-width":"auto"},{default:m((()=>[u(t,{label:"\u57df\u540d\uff1a",prop:"name"},{default:m((()=>[u(a,{modelValue:f(x).name,"onUpdate:modelValue":l[0]||(l[0]=e=>f(x).name=e),autosize:{minRows:5,maxRows:8},type:"textarea",placeholder:"\u8bf7\u8f93\u5165\u7f51\u7ad9\u57df\u540d\uff0c\u652f\u6301\u591a\u4e2a\uff08\u57df\u540d\u3001IP)+\u7aef\u53e3\uff08\u9ed8\u8ba480\uff09\uff0c\u4e00\u884c\u4e00\u4e2a\n\u57df\u540d\u683c\u5f0f1\uff1awww.lybbn.cn\n\u57df\u540d\u683c\u5f0f2\uff1awww.lybbn.cn:8080\nIP\u683c\u5f0f\uff1a192.168.1.1:8080\n\u6cdb\u89e3\u6790\uff1a*.lybbn.cn",clearable:"",onInput:U},null,8,["modelValue"])])),_:1}),u(t,{label:"\u5907\u6ce8\uff1a",prop:"remark"},{default:m((()=>[u(a,{modelValue:f(x).remark,"onUpdate:modelValue":l[1]||(l[1]=e=>f(x).remark=e),placeholder:"\u5907\u6ce8",clearable:""},null,8,["modelValue"])])),_:1}),u(t,{label:"\u6839\u76ee\u5f55\uff1a",prop:"path"},{default:m((()=>[u(a,{modelValue:f(x).path,"onUpdate:modelValue":l[2]||(l[2]=e=>f(x).path=e),placeholder:"\u8bf7\u9009\u62e9\u7f51\u7ad9\u6839\u76ee\u5f55",class:"selectDirs"},{prepend:m((()=>[u(n,{onClick:T,icon:"Folder",type:"primary"})])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"\u5206\u7ec4\uff1a",prop:"group"},{default:m((()=>[u(i,{modelValue:f(x).group,"onUpdate:modelValue":l[3]||(l[3]=e=>f(x).group=e),placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"},clearable:"",filterable:""},{default:m((()=>[(r(!0),s(g,null,y(f(V),(e=>(r(),c(o,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]),f(I)?(r(),c($,{key:0,ref_key:"chooseDirShowFlag",ref:C,onChange:j,onClosed:l[5]||(l[5]=e=>h(I)?I.value=!1:I=!1)},null,512)):p("",!0)])}}},[["__scopeId","data-v-440ec44c"]]),ee={class:"handlegroupadd"},le={key:1},ae={style:{display:"flex","align-items":"center"}},te=T({__name:"moduleGroup",emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=a;let n=i(!1),o=i(!1),g=i(!1),y=i(""),_=i({name:"",is_default:!1}),k=i([]);function x(){t("closed")}function V(){o.value=!0,D.sysSitegroup({page:1,limit:999}).then((e=>{if(o.value=!1,2e3===e.code){let l=e.data.data;l.forEach((e=>{e.isEdit=!1})),k.value=l}}))}function I(){if(""==_.value.name)return void N.warning("\u8bf7\u586b\u5199\u7ad9\u70b9\u5206\u7ec4\u540d\u79f0");let e={name:_.value.name,is_default:!1};D.sysSitegroupAdd(e).then((e=>{g.value=!1,2e3==e.code?(N.success(e.msg),V(),_.value.name=""):N.warning(e.msg)}))}return l({handleOpen:function(e,l){y.value=l,n.value=!0,V()}}),(e,l)=>{const a=d("el-input"),t=d("el-button"),i=d("el-table-column"),C=d("el-table");return r(),s("div",null,[u(q,{modelValue:f(n),"onUpdate:modelValue":l[1]||(l[1]=e=>h(n)?n.value=e:n=e),title:f(y),width:"560px","before-close":x,loading:f(o)},{default:m((()=>[b("div",ee,[u(a,{modelValue:f(_).name,"onUpdate:modelValue":l[0]||(l[0]=e=>f(_).name=e),clearable:"",placeholder:"\u8bf7\u586b\u5199\u7ad9\u70b9\u5206\u7ec4\u540d\u79f0"},null,8,["modelValue"]),u(t,{type:"primary",style:{"margin-left":"10px"},onClick:I,disabled:f(g)},{default:m((()=>l[2]||(l[2]=[v("\u6dfb\u52a0")]))),_:1},8,["disabled"])]),u(C,{border:"",data:f(k),height:"40vh"},{default:m((()=>[u(i,{prop:"name",label:"\u540d\u79f0","min-width":"200","show-overflow-tooltip":""},{default:m((e=>[e.row.isEdit?(r(),c(a,{key:0,modelValue:e.row.name,"onUpdate:modelValue":l=>e.row.name=l,clearable:""},null,8,["modelValue","onUpdate:modelValue"])):(r(),s("span",le,w(e.row.name),1))])),_:1}),u(i,{label:"\u64cd\u4f5c",width:"100"},{default:m((e=>[b("div",ae,[e.row.isEdit?p("",!0):(r(),c(t,{key:0,link:"",type:"primary",onClick:l=>{var a;(a=e.row).is_default?N.warning("\u9ed8\u8ba4\u5206\u7ec4\u7981\u6b62\u7f16\u8f91"):a.isEdit=!0}},{default:m((()=>l[3]||(l[3]=[v("\u7f16\u8f91")]))),_:2},1032,["onClick"])),e.row.isEdit?(r(),c(t,{key:1,link:"",type:"primary",onClick:l=>function(e){if(""==e.name)return void N.warning("\u8bf7\u586b\u5199\u7ad9\u70b9\u5206\u7ec4\u540d\u79f0");let l={id:e.id,name:e.name,is_default:!1};D.sysSitegroupEdit(l).then((e=>{g.value=!1,2e3==e.code?(N.success(e.msg),V()):N.warning(e.msg)}))}(e.row)},{default:m((()=>l[4]||(l[4]=[v("\u4fdd\u5b58")]))),_:2},1032,["onClick"])):p("",!0),e.row.isEdit?(r(),c(t,{key:2,link:"",type:"primary",onClick:l=>e.row.isEdit=!1},{default:m((()=>l[5]||(l[5]=[v("\u53d6\u6d88")]))),_:2},1032,["onClick"])):p("",!0),e.row.isEdit?p("",!0):(r(),c(t,{key:3,link:"",type:"primary",onClick:l=>{var a;(a=e.row).is_default?N.warning("\u9ed8\u8ba4\u5206\u7ec4\u7981\u6b62\u5220\u9664"):A.confirm(`\u786e\u5b9a\u8981\u5220\u9664\u3010${a.name}\u3011\u64cd\u4f5c\u5417\uff1f`,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{let l={id:a.id};D.sysSitegroupDelete(l).then((e=>{o.value=!1,2e3==e.code?(N.success(e.msg),V()):N.warning(e.msg)}))})).catch((()=>{}))}},{default:m((()=>l[6]||(l[6]=[v("\u5220\u9664")]))),_:2},1032,["onClick"]))])])),_:1})])),_:1},8,["data"])])),_:1},8,["modelValue","title","loading"])])}}},[["__scopeId","data-v-624b97c3"]]),ne={__name:"moduleEditEnd",emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=M(),n=a;let o=i(!1),g=i(!1),y=i("\u521b\u5efa\u76ee\u5f55"),_=i({id:"",endTime:"",typechoice:1}),b=i([{required:!0,message:"\u8bf7\u9009\u62e9\u5230\u671f\u65f6\u95f4",trigger:"blur"}]);function w(){n("closed")}let k=i(null);function x(){k.value.validate((e=>{if(e){let e=null;1==_.value.typechoice&&(e=_.value.endTime),t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let l={action:"set_site_endtime",id:_.value.id,endTime:e};D.sysGetSitesManage(l).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),w(),n("refreshData")):N.warning(e.msg)}))}}))}return l({handleOpen:function(e,l){if(y.value=l,o.value=!0,e){let l=P(e);_.value.id=l.id,_.value.endTime=l.endTime,_.value.endTime||(_.value.typechoice=2)}}}),(e,l)=>{const a=d("el-radio-button"),t=d("el-radio-group"),n=d("el-form-item"),i=d("el-date-picker"),V=d("el-form"),I=d("el-button");return r(),s("div",null,[u(q,{modelValue:f(o),"onUpdate:modelValue":l[2]||(l[2]=e=>h(o)?o.value=e:o=e),title:f(y),width:"560px","before-close":w,showFullScreen:!1},{footer:m((()=>[u(I,{onClick:w,loading:f(g)},{default:m((()=>l[3]||(l[3]=[v("\u53d6\u6d88")]))),_:1},8,["loading"]),u(I,{type:"primary",onClick:x,loading:f(g)},{default:m((()=>l[4]||(l[4]=[v("\u4fdd\u5b58")]))),_:1},8,["loading"])])),default:m((()=>[u(V,{inline:!1,model:f(_),rules:e.rules,ref_key:"rulesForm",ref:k,"label-position":"right","label-width":"auto"},{default:m((()=>[u(n,{label:"\u5230\u671f\u7c7b\u578b\uff1a",required:""},{default:m((()=>[u(t,{modelValue:f(_).typechoice,"onUpdate:modelValue":l[0]||(l[0]=e=>f(_).typechoice=e)},{default:m((()=>[u(a,{label:"\u6307\u5b9a\u65f6\u95f4",value:1}),u(a,{label:"\u8bbe\u7f6e\u6c38\u4e45",value:2})])),_:1},8,["modelValue"])])),_:1}),1===f(_).typechoice?(r(),c(n,{key:0,label:"\u5230\u671f\u65f6\u95f4\uff1a",prop:"endTime",rules:1===f(_).typechoice?f(b):[]},{default:m((()=>[u(i,{style:{width:"100%"},modelValue:f(_).endTime,"onUpdate:modelValue":l[1]||(l[1]=e=>f(_).endTime=e),type:"datetime",placeholder:"\u8bf7\u9009\u62e9",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])])),_:1},8,["rules"])):p("",!0)])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}},oe=T({__name:"moduleSetDefaultSite",emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=M(),n=a;let o=i(!1),p=i(!1),_=i("\u8bbe\u7f6e\u9ed8\u8ba4\u7ad9\u70b9"),w=i({site_id:0}),k=i([]),x=i({site_id:[{required:!0,message:"\u8bf7\u9009\u62e9\u9ed8\u8ba4\u7ad9\u70b9",trigger:"blur"}]});function V(){n("closed")}let I=i(null);function C(){I.value.validate((e=>{if(e){1==w.value.typechoice&&w.value.endTime,t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e={action:"set_site_default",id:w.value.site_id};D.sysGetSitesManage(e).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),V(),n("refreshData")):N.warning(e.msg)}))}}))}return l({handleOpen:function(e,l){_.value=l,o.value=!0,function(){t.loadingInfo.isLoading=!0,t.loadingInfo.content="";let e={module:0,page:1,limit:999};e.module=0,D.sysGetSitesList(e).then((e=>{t.loadingInfo.isLoading=!1,2e3===e.code&&(k.value=e.data.data,k.value.forEach((e=>{e.is_default&&(w.value.site_id=e.id)})))}))}()}}),(e,l)=>{const a=d("el-option"),t=d("el-select"),n=d("el-form-item"),i=d("el-form"),S=d("el-button");return r(),s("div",null,[u(q,{modelValue:f(o),"onUpdate:modelValue":l[1]||(l[1]=e=>h(o)?o.value=e:o=e),title:f(_),width:"560px","before-close":V,showFullScreen:!1},{footer:m((()=>[u(S,{onClick:V,loading:f(p)},{default:m((()=>l[3]||(l[3]=[v("\u53d6\u6d88")]))),_:1},8,["loading"]),u(S,{type:"primary",onClick:C,loading:f(p)},{default:m((()=>l[4]||(l[4]=[v("\u4fdd\u5b58")]))),_:1},8,["loading"])])),default:m((()=>[u(i,{inline:!1,model:f(w),rules:f(x),ref_key:"rulesForm",ref:I,"label-position":"right","label-width":"auto"},{default:m((()=>[u(n,{label:"\u9ed8\u8ba4\u7ad9\u70b9\uff1a",prop:"site_id"},{default:m((()=>[u(t,{modelValue:f(w).site_id,"onUpdate:modelValue":l[0]||(l[0]=e=>f(w).site_id=e),style:{width:"100%"}},{default:m((()=>[(r(),c(a,{value:0,key:-1,label:"\u4e0d\u8bbe\u7f6e\u7ad9\u70b9"})),(r(!0),s(g,null,y(f(k),((e,l)=>(r(),c(a,{key:l,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),l[2]||(l[2]=b("div",{class:"ry-cj-care"},[b("li",null,"\u8bbe\u7f6e\u9ed8\u8ba4\u7ad9\u70b9\u540e,\u6240\u6709\u672a\u7ed1\u5b9a\u7684\u57df\u540d\u548cIP\u90fd\u88ab\u5b9a\u5411\u5230\u9ed8\u8ba4\u7ad9\u70b9"),b("li",null,"\u53ef\u6709\u6548\u9632\u6b62\u6076\u610f\u89e3\u6790"),b("li",null,"\u4e0d\u8bbe\u7f6e\u65f6\u4e5f\u4f1a\u670980\u7aef\u53e3\u7684\u9ed8\u8ba4\u7ad9\u70b9")],-1))])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-5bcc75b6"]]),ie={class:"lyBackupDialog"},de={key:3},se=T({__name:"moduleBackup",emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=a;let n=i(!1);i(!1);let o=i("\u6570\u636e\u5e93\u5907\u4efd"),p=i(!1),g=i(!1),y=i(""),b=i({fid:"",type:2,page:1,limit:10}),V=i({page:1,limit:10,total:0}),I=i([]),C=i({});function S(){t("closed"),t("refreshData")}function L(e){b.value.page=e.page,b.value.limit=e.limit,U()}function U(){p.value=!0,D.sysBakBackUpList(b.value).then((e=>{p.value=!1,2e3==e.code?(I.value=e.data.data,V.value.page=e.data.page,V.value.limit=e.data.limit,V.value.total=e.data.total):E(e.msg)}))}function T(){g.value=!0,D.sysSitesBakMg({action:"backup_site",id:b.value.fid}).then((e=>{g.value=!1,2e3==e.code?(R(e.msg),U()):E(e.msg)}))}let M=i([]),O=i([]);function B(e){O.value=P(e),M.value=e.map((e=>e.id))}let G=i(null);function H(){_((()=>{G.value.handleOpen(null,"\u6279\u91cf\u5220\u9664\u5907\u4efd\u6587\u4ef6")}))}let $=i(0),W=i("0%"),K=i(!1),J=i(1),Z=i("");function X(e){return new Promise((l=>setTimeout(l,e)))}function Q(){return e=this,l=null,a=function*(){J.value=2,K.value=!0,O.value.forEach((e=>{e.status="wait"}));let e=O.value.length,l=0;for(let a=0;a<e;a++){$.value=a+1==e?100:parseInt((a+1)/e*100),W.value=$.value+"%";let t="del_backup_site",n={id:b.value.fid,bid:O.value[a].id,action:t};D.sysSitesBakMg(n).then((e=>{2e3==e.code?O.value[a].status="success":(O.value[a].status="error",l+=1)})),yield X(1e3)}K.value=!1,J.value=3,Z.value=`\u6279\u91cf\u5220\u9664\u5907\u4efd\u6587\u4ef6\u5df2\u5b8c\u6210\uff0c\u5171${e}\u4e2a\u4efb\u52a1\uff0c\u6210\u529f${e-l}\u4e2a\uff0c\u5931\u8d25${l}\u4e2a!`},new Promise(((t,n)=>{var o=e=>{try{d(a.next(e))}catch(l){n(l)}},i=e=>{try{d(a.throw(e))}catch(l){n(l)}},d=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,i);d((a=a.apply(e,l)).next())}));var e,l,a}return l({handleOpen:function(e,l){o.value=l,n.value=!0,b.value.fid=e.id,y.value=e.db_name,U()}}),(e,l)=>{const a=d("el-button"),t=d("el-form-item"),i=d("el-form"),y=d("el-table-column"),_=d("el-table"),P=d("el-tag"),R=k("loading");return r(),s("div",ie,[u(q,{modelValue:f(n),"onUpdate:modelValue":l[0]||(l[0]=e=>h(n)?n.value=e:n=e),title:f(o),width:"60%","before-close":S,loading:f(g)},{default:m((()=>[u(i,{inline:!1,model:f(b),rules:f(C),ref:"rulesForm","label-position":"right","label-width":"auto",disabled:f(g)},{default:m((()=>[u(t,null,{default:m((()=>[u(a,{type:"primary",onClick:T},{default:m((()=>l[1]||(l[1]=[v("\u5907\u4efd")]))),_:1}),u(a,{onClick:H,disabled:f(M).length<1},{default:m((()=>l[2]||(l[2]=[v("\u5220\u9664")]))),_:1},8,["disabled"])])),_:1})])),_:1},8,["model","rules","disabled"]),x((r(),c(_,{ref:"table",border:"",data:f(I),height:410,onSelectionChange:B},{default:m((()=>[u(y,{type:"selection",width:"55",align:"center"}),u(y,{prop:"name",label:"\u540d\u79f0","min-width":"180","show-overflow-tooltip":""}),u(y,{prop:"size",label:"\u5927\u5c0f","min-width":"100"},{default:m((e=>[v(w(f(j)(e.row.size)),1)])),_:1}),u(y,{prop:"filename",label:"\u4f4d\u7f6e","min-width":"190","show-overflow-tooltip":""}),u(y,{prop:"create_at",label:"\u65f6\u95f4","min-width":"160"}),u(y,{prop:"store_type",label:"\u5b58\u50a8\u5bf9\u8c61","min-width":"90"}),u(y,{fixed:"right",label:"\u64cd\u4f5c",width:"150"},{default:m((e=>[u(a,{link:"",type:"primary",onClick:l=>{return a=e.row,void D.sysSiteBakFileDownload({id:b.value.fid,bid:a.id,action:"download_backup_site"}).then((e=>{if("application/json"==e.headers["content-type"]){const l=new FileReader;l.readAsText(e.data),l.onload=()=>{const e=JSON.parse(l.result);N.warning(e.msg)}}else F(e.data,a.name)}));var a}},{default:m((()=>l[3]||(l[3]=[v("\u4e0b\u8f7d")]))),_:2},1032,["onClick"]),u(a,{link:"",type:"primary",onClick:l=>{return a=e.row,void A.confirm(`\u786e\u5b9a\u8981\u5220\u9664\u3010${a.name}\u3011\u5907\u4efd\u6587\u4ef6\u5417\uff1f`,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{p.value=!0;let l={id:b.value.fid,bid:a.id,action:"del_backup_site"};D.sysSitesBakMg(l).then((e=>{p.value=!1,2e3==e.code?(N.success(e.msg),U()):N.warning(e.msg)}))})).catch((()=>{}));var a}},{default:m((()=>l[4]||(l[4]=[v("\u5220\u9664")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[R,f(p)]]),u(z,{small:!0,"child-msg":f(V),onCallFather:L},null,8,["child-msg"])])),_:1},8,["modelValue","title","loading"]),u(Y,{ref_key:"batchOpRef",ref:G,onClosed:U,tip2:f(Z),percentContent:f(W),percentage:f($),loadingSave:f(K),stepStatus:f(J)},{table:m((()=>[u(_,{data:f(O),border:"","max-height":500},{default:m((()=>[u(y,{prop:"name",label:"\u540d\u79f0","min-width":"280","show-overflow-tooltip":""}),u(y,{prop:"status",label:"\u72b6\u6001","min-width":"100"},{default:m((e=>["wait"==e.row.status?(r(),c(P,{key:0,type:"info"},{default:m((()=>l[5]||(l[5]=[v("\u7b49\u5f85\u5220\u9664")]))),_:1})):"success"==e.row.status?(r(),c(P,{key:1,type:"success"},{default:m((()=>l[6]||(l[6]=[v("\u5220\u9664\u6210\u529f")]))),_:1})):"error"==e.row.status?(r(),c(P,{key:2,type:"danger"},{default:m((()=>l[7]||(l[7]=[v("\u5220\u9664\u5931\u8d25")]))),_:1})):(r(),s("span",de))])),_:1})])),_:1},8,["data"])])),footer:m((()=>[u(a,{type:"primary",onClick:Q,loading:f(K)},{default:m((()=>l[8]||(l[8]=[v("\u786e\u8ba4")]))),_:1},8,["loading"])])),_:1},8,["tip2","percentContent","percentage","loadingSave","stepStatus"])])}}},[["__scopeId","data-v-06300c73"]]),re={key:0},ue={key:1},ce={key:0},pe={key:1},me={key:2},fe={key:3},ge={key:0},ye={key:1},ve=T({__name:"moduleNginxRedirect",props:{id:{type:[Number,String],default:""}},emits:["refreshData"],setup(e,{emit:l}){const a=M(),t=e;let n=i(!1);i(!1);let o=i(!1),_=i("\u65b0\u589e\u91cd\u5b9a\u5411"),k=i({redirectId:O(9),type:"domain",domains:[],redirectCode:"301",redirectRoot:!0,path:"",target:"http://",keepUrlPath:!0,status:!0,operate:"add"}),x=i([]),I=i([]),C=[{required:!0,message:"\u8bf7\u8f93\u5165\u8def\u5f84",trigger:"blur"}],S=[{required:!0,message:"\u8bf7\u9009\u62e9\u57df\u540d",trigger:"blur"}],L=i({type:[{required:!0,message:"\u8bf7\u9009\u62e9\u91cd\u5b9a\u5411\u7c7b\u578b",trigger:"blur"}],redirectCode:[{required:!0,message:"\u8bf7\u9009\u62e9\u91cd\u5b9a\u5411\u65b9\u5f0f",trigger:"blur"}],target:[{required:!0,message:"\u8bf7\u8f93\u5165\u76ee\u6807",trigger:"blur"}],keepUrlPath:[{required:!0,message:"\u8bf7\u9009\u62e9",trigger:"blur"}],status:[{required:!0,message:"\u8bf7\u9009\u62e9",trigger:"blur"}]});function U(){n.value=!1,_.value="",k.value={redirectId:O(9),type:"domain",domains:[],redirectCode:"301",redirectRoot:!0,path:"",target:"http://",keepUrlPath:!0,status:!0,operate:"add"}}function T(){k.value.operate="add",_.value="\u65b0\u589e\u91cd\u5b9a\u5411",n.value=!0}function j(){a.loadingInfo.isLoading=!0,a.loadingInfo.content="",D.sysGetSitesManage({id:t.id,action:"get_site_redirect"}).then((e=>{a.loadingInfo.isLoading=!1,2e3===e.code?x.value=e.data:N.warning(e.msg)}))}function R(e,l){let n=!0,o="\u542f\u52a8";"stop"==e&&(n=!1,o="\u505c\u6b62"),A.confirm(`\u786e\u5b9a\u8981${o}\u5417\uff1f`,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{let i=l;i.operate="edit",i.status=n,i.editStatus=!0;let d={action:"set_site_redirect",id:t.id,cont:i};a.loadingInfo.isLoading=!0,a.loadingInfo.content=`\u6b63\u5728${o}...`,D.sysGetSitesManage(d).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?(N.success(e.msg),U(),j()):N.warning(e.msg)}))})).catch((()=>{}))}let E=i(null);function F(){E.value.validate((e=>{if(e){a.loadingInfo.isLoading=!0,a.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e={action:"set_site_redirect",id:t.id,cont:k.value};D.sysGetSitesManage(e).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?(N.success(e.msg),U(),j()):N.warning(e.msg)}))}}))}return V((()=>{j(),D.sysGetSitesDomainList({site:t.id}).then((e=>{if(2e3==e.code)if(e.data.data.length>0){let l=e.data.data;const a=Array.from(new Set(l.map((e=>e.name)))).map((e=>l.find((l=>l.name===e))));I.value=a}else I.value=[]}))})),(e,l)=>{const i=d("el-button"),V=d("el-table-column"),M=d("el-table"),O=d("el-switch"),B=d("el-form-item"),G=d("el-option"),H=d("el-select"),z=d("el-input"),$=d("el-alert"),Y=d("el-form");return r(),s("div",null,[u(i,{type:"primary",onClick:T,style:{"margin-bottom":"15px"},icon:"plus"},{default:m((()=>l[10]||(l[10]=[v("\u65b0\u589e")]))),_:1}),u(M,{border:"",data:f(x),"max-height":"500"},{default:m((()=>[u(V,{label:"\u6e90\u57df\u540d/\u8def\u5f84","min-width":"200","show-overflow-tooltip":""},{default:m((({row:e})=>["domain"==e.type?(r(),s("span",re,w(e.domains?e.domains.join(","):""),1)):(r(),s("span",ue,w(e.path),1))])),_:1}),u(V,{prop:"type",label:"\u7c7b\u578b",width:"90"},{default:m((e=>["path"==e.row.type?(r(),s("span",ce,"\u8def\u5f84")):"domain"==e.row.type?(r(),s("span",pe,"\u57df\u540d")):"404"==e.row.type?(r(),s("span",me,"404")):(r(),s("span",fe))])),_:1}),u(V,{prop:"redirectCode",label:"\u65b9\u5f0f",width:"80"}),u(V,{prop:"target",label:"\u76ee\u6807URL","min-width":"180","show-overflow-tooltip":""}),u(V,{prop:"port",label:"\u72b6\u6001","min-width":"100"},{default:m((({row:e})=>[e.status?(r(),c(i,{key:0,link:"",type:"success",icon:"VideoPlay",onClick:l=>R("stop",e)},{default:m((()=>l[11]||(l[11]=[v(" \u5df2\u5f00\u542f ")]))),_:2},1032,["onClick"])):(r(),c(i,{key:1,link:"",type:"danger",icon:"VideoPause",onClick:l=>R("start",e)},{default:m((()=>l[12]||(l[12]=[v(" \u5df2\u505c\u6b62 ")]))),_:2},1032,["onClick"]))])),_:1}),u(V,{prop:"keepUrlPath",label:"\u4fdd\u7559URL\u53c2\u6570",width:"112"},{default:m((e=>["404"!=e.row.type?(r(),s("span",ge,w(e.row.keepUrlPath?"\u4fdd\u7559":"\u4e0d\u4fdd\u7559"),1)):(r(),s("span",ye))])),_:1}),u(V,{prop:"redirectId",label:"ID",width:"120","show-overflow-tooltip":""}),u(V,{fixed:"right",label:"\u64cd\u4f5c",width:"109"},{default:m((e=>[u(i,{link:"",type:"primary",onClick:l=>function(e){k.value.operate="edit",_.value="\u7f16\u8f91\u91cd\u5b9a\u5411",n.value=!0;let l=P(e);k.value.redirectId=l.redirectId,k.value.type=l.type,k.value.domains=l.domains,k.value.redirectCode=l.redirectCode,k.value.redirectRoot=l.redirectRoot,k.value.path=l.path,k.value.target=l.target,k.value.keepUrlPath=l.keepUrlPath}(e.row)},{default:m((()=>l[13]||(l[13]=[v("\u7f16\u8f91")]))),_:2},1032,["onClick"]),u(i,{link:"",type:"primary",onClick:l=>{return n=e.row,void A.confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f","\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{let l=n;l.operate="del";let o={action:"set_site_redirect",id:t.id,cont:l};a.loadingInfo.isLoading=!0,a.loadingInfo.content="\u6b63\u5728\u5220\u9664...",D.sysGetSitesManage(o).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?(N.success(e.msg),U(),j()):N.warning(e.msg)}))})).catch((()=>{}));var n}},{default:m((()=>l[14]||(l[14]=[v("\u5220\u9664")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u(q,{modelValue:f(n),"onUpdate:modelValue":l[9]||(l[9]=e=>h(n)?n.value=e:n=e),title:f(_),width:"680px","before-close":U},{footer:m((()=>[u(i,{onClick:U,loading:f(o)},{default:m((()=>l[17]||(l[17]=[v("\u53d6\u6d88")]))),_:1},8,["loading"]),u(i,{type:"primary",onClick:F,loading:f(o)},{default:m((()=>l[18]||(l[18]=[v("\u4fdd\u5b58")]))),_:1},8,["loading"])])),default:m((()=>[u(Y,{ref_key:"rulesForm",ref:E,"label-position":"right","label-width":"auto",model:f(k),rules:f(L)},{default:m((()=>[u(B,{label:"\u5f00\u542f\u91cd\u5b9a\u5411",prop:"status"},{default:m((()=>[u(O,{modelValue:f(k).status,"onUpdate:modelValue":l[0]||(l[0]=e=>f(k).status=e)},null,8,["modelValue"])])),_:1}),u(B,{label:"\u91cd\u5b9a\u5411\u7c7b\u578b",prop:"type"},{default:m((()=>[u(H,{modelValue:f(k).type,"onUpdate:modelValue":l[1]||(l[1]=e=>f(k).type=e),onChange:l[2]||(l[2]=e=>{"404"!=f(k).type&&(k.value.redirectRoot=!1)}),disabled:"edit"===f(k).operate},{default:m((()=>[u(G,{label:"\u57df\u540d",value:"domain"}),u(G,{label:"\u8def\u5f84",value:"path"}),u(G,{label:"\u9875\u9762404",value:"404"})])),_:1},8,["modelValue","disabled"])])),_:1}),u(B,{label:"\u91cd\u5b9a\u5411\u65b9\u5f0f",prop:"redirectCode"},{default:m((()=>[u(H,{modelValue:f(k).redirectCode,"onUpdate:modelValue":l[3]||(l[3]=e=>f(k).redirectCode=e)},{default:m((()=>[u(G,{label:"301",value:"301"}),u(G,{label:"302",value:"302"})])),_:1},8,["modelValue"]),l[15]||(l[15]=b("span",{class:"right-tips"}," 301\u6c38\u4e45\u91cd\u5b9a\u5411\uff0c302\u4e34\u65f6\u91cd\u5b9a\u5411 ",-1))])),_:1}),"path"==f(k).type?(r(),c(B,{key:0,label:"\u8def\u5f84",prop:"path",rules:"path"==f(k).type?f(C):[]},{default:m((()=>[u(z,{modelValue:f(k).path,"onUpdate:modelValue":l[4]||(l[4]=e=>f(k).path=e),modelModifiers:{trim:!0},placeholder:"\u8bf7\u8f93\u5165\u8def\u5f84 \u5982\uff1a/ruyi"},null,8,["modelValue"])])),_:1},8,["rules"])):p("",!0),"domain"==f(k).type?(r(),c(B,{key:1,label:"\u6e90\u57df\u540d",prop:"domains",rules:"domain"==f(k).type?f(S):[]},{default:m((()=>[u(H,{modelValue:f(k).domains,"onUpdate:modelValue":l[5]||(l[5]=e=>f(k).domains=e),multiple:""},{default:m((()=>[(r(!0),s(g,null,y(f(I),((e,l)=>(r(),c(G,{key:l,value:e.name,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])):p("",!0),"404"==f(k).type?(r(),c(B,{key:2,label:"\u91cd\u5b9a\u5411\u5230\u9996\u9875",prop:"redirectRoot"},{default:m((()=>[u(O,{modelValue:f(k).redirectRoot,"onUpdate:modelValue":l[6]||(l[6]=e=>f(k).redirectRoot=e)},null,8,["modelValue"])])),_:1})):p("",!0),!f(k).redirectRoot&&"404"==f(k).type||"path"==f(k).type||"domain"==f(k).type?(r(),c(B,{key:3,label:"\u76ee\u6807URL\u5730\u5740",prop:"target"},{default:m((()=>[u(z,{modelValue:f(k).target,"onUpdate:modelValue":l[7]||(l[7]=e=>f(k).target=e),modelModifiers:{trim:!0},placeholder:"\u8bf7\u8f93\u5165URL\u5730\u5740 \u5982\uff1ahttp://ruyi.lybbn.cn/1.html"},null,8,["modelValue"])])),_:1})):p("",!0),"404"!==f(k).type?(r(),c(B,{key:4,label:"\u4fdd\u7559URL\u53c2\u6570",prop:"keepUrlPath"},{default:m((()=>[u(O,{modelValue:f(k).keepUrlPath,"onUpdate:modelValue":l[8]||(l[8]=e=>f(k).keepUrlPath=e)},null,8,["modelValue"])])),_:1})):p("",!0),"404"==f(k).type?(r(),c($,{key:5,type:"warning"},{default:m((()=>l[16]||(l[16]=[v("404\u9875\u9762\u91cd\u5b9a\u5411\u53ea\u6709\u4e00\u6761\uff0c\u65b0\u5efa\u7b2c\u4e8c\u6761\u4f1a\u8986\u76d6\u7b2c\u4e00\u6761\u5185\u5bb9!!!")]))),_:1})):p("",!0)])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-bedb2b86"]]),he=T({__name:"moduleNginxLllimit",props:{id:{type:[Number,String],default:""}},emits:["refreshData"],setup(e,{emit:l}){const a=M(),t=e;let n=i({plan:"bbs",perserver:300,perip:25,rate:512,status:!1}),o=i([{key:"bbs",name:"\u8bba\u575b/\u535a\u5ba2",values:[300,25,512]},{key:"image",name:"\u56fe\u7247\u7ad9",values:[200,10,1024]},{key:"doanload",name:"\u4e0b\u8f7d\u7ad9",values:[50,3,2048]},{key:"shop",name:"\u5546\u57ce",values:[500,10,2048]},{key:"portalsite",name:"\u95e8\u6237",values:[400,15,1024]},{key:"company",name:"\u4f01\u4e1a",values:[60,10,512]},{key:"video",name:"\u89c6\u9891",values:[150,4,1024]}]),p=i({perserver:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e76\u53d1\u9650\u5236",trigger:"blur"}],perip:[{required:!0,message:"\u8bf7\u8f93\u5165\u5355IP\u9650\u5236",trigger:"blur"}],rate:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d41\u91cf\u9650\u5236",trigger:"blur"}]});function h(e){"custom"==e?(n.value.perserver=null,n.value.perip=null,n.value.rate=null):o.value.forEach((l=>{l.key===e&&(n.value.perserver=l.values[0],n.value.perip=l.values[1],n.value.rate=l.values[2])}))}function _(e){"custom"!=n.value.plan&&(n.value.plan="custom")}let w=i(null);function I(){w.value.validate((e=>{if(e){a.loadingInfo.isLoading=!0,a.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e={action:"set_site_ratelimit",id:t.id,cont:n.value};D.sysGetSitesManage(e).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?N.success(e.msg):N.warning(e.msg)}))}}))}return V((()=>{!function(){a.loadingInfo.isLoading=!0,a.loadingInfo.content="";let e={action:"get_site_ratelimit",id:t.id};D.sysGetSitesManage(e).then((e=>{a.loadingInfo.isLoading=!1,2e3===e.code?n.value=e.data:N.warning(e.msg)}))}()})),(e,l)=>{const a=d("el-switch"),t=d("el-form-item"),i=d("el-option"),V=d("el-select"),C=d("el-input"),S=d("el-form"),L=d("el-button"),U=d("el-col"),T=d("el-row"),M=k("limitPositiveIntNo0");return r(),c(T,{gutter:20},{default:m((()=>[u(U,{xs:24,sm:18,md:18,lg:18,xl:18},{default:m((()=>[u(S,{inline:!1,model:f(n),rules:f(p),ref_key:"rulesForm",ref:w,"label-position":"right","label-width":"auto",style:{"margin-left":"10px"}},{default:m((()=>[u(t,{prop:"status",label:"\u662f\u5426\u542f\u7528"},{default:m((()=>[u(a,{modelValue:f(n).status,"onUpdate:modelValue":l[0]||(l[0]=e=>f(n).status=e)},null,8,["modelValue"])])),_:1}),u(t,{label:"\u9650\u5236\u65b9\u6848"},{default:m((()=>[u(V,{modelValue:f(n).plan,"onUpdate:modelValue":l[1]||(l[1]=e=>f(n).plan=e),onChange:h},{default:m((()=>[(r(!0),s(g,null,y(f(o),((e,l)=>(r(),c(i,{key:l,label:e.name,value:e.key},null,8,["label","value"])))),128)),(r(),c(i,{key:999,label:"\u81ea\u5b9a\u4e49",value:"custom"}))])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"\u5e76\u53d1\u9650\u5236",prop:"perserver"},{default:m((()=>[x(u(C,{modelValue:f(n).perserver,"onUpdate:modelValue":l[2]||(l[2]=e=>f(n).perserver=e),modelModifiers:{number:!0},maxlength:"15",onChange:_},null,8,["modelValue"]),[[M]]),l[5]||(l[5]=b("span",{class:"right-tips"},"\u9650\u5236\u5f53\u524d\u7ad9\u70b9\u6700\u5927\u5e76\u53d1\u6570",-1))])),_:1}),u(t,{label:"\u5355IP\u9650\u5236",prop:"perip"},{default:m((()=>[x(u(C,{modelValue:f(n).perip,"onUpdate:modelValue":l[3]||(l[3]=e=>f(n).perip=e),modelModifiers:{number:!0},maxlength:"15",onChange:_},null,8,["modelValue"]),[[M]]),l[6]||(l[6]=b("span",{class:"right-tips"},"\u9650\u5236\u5355\u4e2aIP\u8bbf\u95ee\u6700\u5927\u5e76\u53d1\u6570",-1))])),_:1}),u(t,{label:"\u6d41\u91cf\u9650\u5236",prop:"rate"},{default:m((()=>[x(u(C,{modelValue:f(n).rate,"onUpdate:modelValue":l[4]||(l[4]=e=>f(n).rate=e),modelModifiers:{number:!0},maxlength:"15",onChange:_},null,8,["modelValue"]),[[M]]),l[7]||(l[7]=b("span",{class:"right-tips"},"\u9650\u5236\u6bcf\u4e2a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u4e0b\u8f7d\u901f\u7387(\u5355\u4f4d:KB/s)",-1))])),_:1})])),_:1},8,["model","rules"]),u(L,{type:"primary",onClick:I,style:{float:"right"}},{default:m((()=>l[8]||(l[8]=[v("\u4fdd\u5b58\u5e76\u91cd\u8f7d")]))),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-5d99c573"]]),_e=T({__name:"moduleNginxProxy",props:{id:{type:[Number,String],default:""}},emits:["refreshData"],setup(e,{emit:l}){const a=M(),t=e;let n=i(!1),o=i(""),_=i(!1);i(!1),i(!1);let w=i("\u65b0\u589e\u53cd\u5411\u4ee3\u7406"),k=i({name:"",proxyPath:"/",proxyPass:"http://",cache:!1,cacheTime:1,cacheUnit:"m",sniEnable:!1,status:!0,advanced:!1,subFilters:[],proxyHost:"$host",operate:"add"}),x=i([]),I=i(""),C=i(""),S=i({name:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0",trigger:"blur"}],proxyPath:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ee3\u7406\u8def\u5f84",trigger:"blur"}],proxyPass:[{required:!0,message:"\u8bf7\u8f93\u5165\u9700\u8f6c\u53d1\u5230\u7684\u540e\u7aef\u5730\u5740",trigger:"blur"}],proxyHost:[{required:!0,message:"\u8bf7\u586b\u5199\u5fc5\u586b\u9879",trigger:"blur"}]});let L=[{required:!0,trigger:"blur",min:1,type:"number",message:"\u8bf7\u8f93\u5165\u7f13\u5b58\u65f6\u95f4"},(U=1,T=99999,{required:!0,trigger:"blur",min:U,max:T,type:"number",message:`\u6570\u5b57\u53ef\u9009\u8303\u56f4${U}\u5230${T}`})];var U,T;function j(){_.value=!1,w.value="",k.value={name:"",proxyPath:"/",proxyPass:"http://",cache:!1,cacheTime:1,cacheUnit:"m",sniEnable:!1,status:!0,subFilters:[],proxyHost:"$host",operate:"add",advanced:!1}}function R(){k.value.operate="add",w.value="\u65b0\u589e\u53cd\u5411\u4ee3\u7406",_.value=!0}function E(){k.value.subFilters.push({key:"",value:""})}function F(){a.loadingInfo.isLoading=!0,a.loadingInfo.content="",D.sysGetSitesManage({id:t.id,action:"get_site_proxy"}).then((e=>{a.loadingInfo.isLoading=!1,2e3===e.code?x.value=e.data:N.warning(e.msg)}))}function O(e,l){let n=!0,o="\u542f\u52a8";"stop"==e&&(n=!1,o="\u505c\u6b62"),A.confirm(`\u786e\u5b9a\u8981${o}\u5417\uff1f`,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{let i=l;i.operate="edit",i.status=n,i.editStatus=!0;let d={action:"set_site_proxy",id:t.id,cont:i};a.loadingInfo.isLoading=!0,a.loadingInfo.content=`\u6b63\u5728${o}...`,D.sysGetSitesManage(d).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?(N.success(e.msg),j(),F()):N.warning(e.msg)}))})).catch((()=>{}))}let G=i(null);function H(){G.value.validate((e=>{if(e){a.loadingInfo.isLoading=!0,a.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e={action:"set_site_proxy",id:t.id,cont:k.value};D.sysGetSitesManage(e).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?(N.success(e.msg),j(),F()):N.warning(e.msg)}))}}))}function z(){o.value="",n.value=!1,I.value=""}function $(){a.loadingInfo.isLoading=!0,a.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e={action:"set_site_proxy_conf",id:t.id,name:C.value,conf:I.value};D.sysGetSitesManage(e).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?(N.success(e.msg),z()):N.warning(e.msg)}))}return V((()=>{F()})),(e,l)=>{const i=d("el-button"),V=d("el-table-column"),U=d("el-tag"),T=d("el-table"),M=d("el-switch"),Y=d("el-form-item"),W=d("el-col"),K=d("el-row"),J=d("el-option"),X=d("el-select"),Q=d("el-input"),ee=d("el-form");return r(),s("div",null,[u(i,{type:"primary",onClick:R,style:{"margin-bottom":"15px"},icon:"plus"},{default:m((()=>l[13]||(l[13]=[v("\u65b0\u589e")]))),_:1}),u(T,{border:"",data:f(x),"max-height":"500"},{default:m((()=>[u(V,{prop:"name",label:"\u540d\u79f0","min-width":"160","show-overflow-tooltip":""}),u(V,{prop:"proxyPath",label:"\u4ee3\u7406\u8def\u5f84","min-width":"120","show-overflow-tooltip":""}),u(V,{prop:"proxyPass",label:"\u8f6c\u53d1\u5230","min-width":"200","show-overflow-tooltip":""}),u(V,{prop:"cache",label:"\u7f13\u5b58","min-width":"100"},{default:m((({row:e})=>[e.cache?(r(),c(U,{key:1,type:"success"},{default:m((()=>l[15]||(l[15]=[v("\u542f\u7528")]))),_:1})):(r(),c(U,{key:0,type:"danger"},{default:m((()=>l[14]||(l[14]=[v("\u7981\u7528")]))),_:1}))])),_:1}),u(V,{prop:"port",label:"\u72b6\u6001","min-width":"100"},{default:m((({row:e})=>[e.status?(r(),c(i,{key:0,link:"",type:"success",icon:"VideoPlay",onClick:l=>O("stop",e)},{default:m((()=>l[16]||(l[16]=[v(" \u5df2\u5f00\u542f ")]))),_:2},1032,["onClick"])):(r(),c(i,{key:1,link:"",type:"danger",icon:"VideoPause",onClick:l=>O("start",e)},{default:m((()=>l[17]||(l[17]=[v(" \u5df2\u505c\u6b62 ")]))),_:2},1032,["onClick"]))])),_:1}),u(V,{fixed:"right",label:"\u64cd\u4f5c",width:"180"},{default:m((e=>[u(i,{link:"",type:"primary",onClick:l=>function(e){a.loadingInfo.isLoading=!0,a.loadingInfo.content="";let l={action:"get_site_proxy_conf",id:t.id,name:e.name};D.sysGetSitesManage(l).then((l=>{a.loadingInfo.isLoading=!1,2e3==l.code?(I.value=l.data,C.value=e.name,o.value=`\u4ee3\u7406\u914d\u7f6e\u4fee\u6539\u3010${e.name}\u3011`,n.value=!0):N.warning(l.msg)}))}(e.row)},{default:m((()=>l[18]||(l[18]=[v("\u914d\u7f6e\u6587\u4ef6")]))),_:2},1032,["onClick"]),u(i,{link:"",type:"primary",onClick:l=>function(e){k.value.operate="edit",w.value="\u7f16\u8f91\u53cd\u5411\u4ee3\u7406",_.value=!0;let l=P(e);k.value.name=l.name,k.value.proxyPath=l.proxyPath,k.value.proxyPass=l.proxyPass,k.value.cache=l.cache,k.value.cacheTime=l.cacheTime,k.value.cacheUnit=l.cacheUnit,k.value.sniEnable=l.sniEnable,k.value.status=l.status,k.value.subFilters=l.subFilters,k.value.proxyHost=l.proxyHost,k.value.advanced=l.advanced}(e.row)},{default:m((()=>l[19]||(l[19]=[v("\u7f16\u8f91")]))),_:2},1032,["onClick"]),u(i,{link:"",type:"primary",onClick:l=>{return n=e.row,void A.confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f","\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{let l=n;l.operate="del";let o={action:"set_site_proxy",id:t.id,cont:l};a.loadingInfo.isLoading=!0,a.loadingInfo.content="\u6b63\u5728\u5220\u9664...",D.sysGetSitesManage(o).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?(N.success(e.msg),j(),F()):N.warning(e.msg)}))})).catch((()=>{}));var n}},{default:m((()=>l[20]||(l[20]=[v("\u5220\u9664")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u(q,{modelValue:f(_),"onUpdate:modelValue":l[10]||(l[10]=e=>h(_)?_.value=e:_=e),title:f(w),width:"680px","before-close":j},{footer:m((()=>[u(i,{onClick:j},{default:m((()=>l[29]||(l[29]=[v("\u53d6\u6d88")]))),_:1}),u(i,{type:"primary",onClick:H},{default:m((()=>l[30]||(l[30]=[v("\u4fdd\u5b58")]))),_:1})])),default:m((()=>[u(ee,{ref_key:"rulesForm",ref:G,"label-position":"right","label-width":"auto",model:f(k),rules:f(S)},{default:m((()=>[u(K,{gutter:10},{default:m((()=>[u(W,{span:12},{default:m((()=>[u(Y,{label:"\u5f00\u542f\u4ee3\u7406",prop:"status"},{default:m((()=>[u(M,{modelValue:f(k).status,"onUpdate:modelValue":l[0]||(l[0]=e=>f(k).status=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(W,{span:12},{default:m((()=>[u(Y,{label:"\u9ad8\u7ea7\u6a21\u5f0f",prop:"advanced"},{default:m((()=>[u(M,{modelValue:f(k).advanced,"onUpdate:modelValue":l[1]||(l[1]=e=>f(k).advanced=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),f(k).advanced?(r(),c(Y,{key:0,label:"\u5f00\u542f\u7f13\u5b58",prop:"cache"},{default:m((()=>[u(M,{modelValue:f(k).cache,"onUpdate:modelValue":l[2]||(l[2]=e=>f(k).cache=e)},null,8,["modelValue"]),l[21]||(l[21]=b("span",{class:"right-tips"}," \u5f00\u542f\u540e\u5185\u5bb9\u7f13\u5b58\u53ef\u80fd\u5bfc\u81f4\u65b0\u6570\u636e\u4e0d\u80fd\u53ca\u65f6\u53d8\u5316 ",-1))])),_:1})):p("",!0),f(k).advanced&&f(k).cache?(r(),c(Y,{key:1,label:"\u7f13\u5b58\u65f6\u95f4",prop:"cacheTime",rules:f(k).cache?f(L):[]},{default:m((()=>[u(Q,{modelValue:f(k).cacheTime,"onUpdate:modelValue":l[4]||(l[4]=e=>f(k).cacheTime=e),modelModifiers:{number:!0},maxlength:"15"},{append:m((()=>[u(X,{modelValue:f(k).cacheUnit,"onUpdate:modelValue":l[3]||(l[3]=e=>f(k).cacheUnit=e),style:{width:"100px"}},{default:m((()=>[(r(!0),s(g,null,y(f(B),((e,l)=>(r(),c(J,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1},8,["rules"])):p("",!0),u(Y,{label:"\u4ee3\u7406\u540d\u79f0",prop:"name"},{default:m((()=>[u(Q,{modelValue:f(k).name,"onUpdate:modelValue":l[5]||(l[5]=e=>f(k).name=e),modelModifiers:{trim:!0},disabled:"edit"===f(k).operate,placeholder:"\u8bf7\u8f93\u5165\u53cd\u5411\u4ee3\u7406\u540d\u79f0"},null,8,["modelValue","disabled"])])),_:1}),u(Y,{label:"\u4ee3\u7406\u8def\u5f84",prop:"proxyPath"},{default:m((()=>[u(Q,{modelValue:f(k).proxyPath,"onUpdate:modelValue":l[6]||(l[6]=e=>f(k).proxyPath=e),modelModifiers:{trim:!0},placeholder:"\u8bf7\u8f93\u5165\u4ee3\u7406\u8def\u5f84\uff08\u524d\u7aef\u8bf7\u6c42\u8def\u5f84\uff09"},null,8,["modelValue"]),l[22]||(l[22]=b("span",{class:"right-tips"}," /\u8868\u793a\u4ee3\u7406\u6240\u6709\uff0c/api \u8868\u793a\u4ee3\u7406\u6240\u6709\u4ee5 /api \u5f00\u5934\u7684\u8bf7\u6c42 ",-1))])),_:1}),u(Y,{label:"\u8f6c\u53d1\u5230",prop:"proxyPass"},{default:m((()=>[u(Q,{modelValue:f(k).proxyPass,"onUpdate:modelValue":l[7]||(l[7]=e=>f(k).proxyPass=e),modelModifiers:{trim:!0},placeholder:"\u5982\uff1ahttp://127.0.0.1:8000"},null,8,["modelValue"]),l[23]||(l[23]=b("span",{class:"right-tips"}," \u4ee3\u7406\u7684\u7ad9\u70b9\uff0c\u4e00\u822c\u4e3a\u540e\u7aef\u670d\u52a1\u5730\u5740\uff0c\u5982\uff1ahttp://127.0.0.1:8000 ",-1))])),_:1}),u(Y,{label:"\u540e\u7aef\u57df\u540d",prop:"proxyHost"},{default:m((()=>[u(Q,{modelValue:f(k).proxyHost,"onUpdate:modelValue":l[8]||(l[8]=e=>f(k).proxyHost=e),modelModifiers:{trim:!0},placeholder:"\u5982\uff1ahttp://127.0.0.1:8000"},null,8,["modelValue"]),l[24]||(l[24]=b("span",{class:"right-tips"}," \u8bbe\u7f6e\u4f20\u9012\u7ed9\u540e\u7aef\u670d\u52a1\u5668\u7684Host\u5934\u90e8\u4fe1\u606f\uff0c$host\u4f1a\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8bf7\u6c42\u4e2d\u7684\u4e3b\u673a\u540d ",-1))])),_:1}),f(k).advanced?(r(),c(Y,{key:2,label:"\u56de\u6e90SNI",prop:"sniEnable"},{default:m((()=>[u(M,{modelValue:f(k).sniEnable,"onUpdate:modelValue":l[9]||(l[9]=e=>f(k).sniEnable=e)},null,8,["modelValue"]),l[25]||(l[25]=b("span",{class:"right-tips"}," \u540e\u7aef\u4e3ahttps\u65f6\u56de\u6e90SNI\u53ef\u786e\u4fdd\u540e\u7aef\u670d\u52a1\u80fd\u6839\u636e\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u6b63\u786e\u5730\u9009\u62e9\u8bc1\u4e66 ",-1))])),_:1})):p("",!0),f(k).advanced&&f(k).subFilters.length>0?(r(),c(Y,{key:3,label:"\u5185\u5bb9\u66ff\u6362"},{default:m((()=>[(r(!0),s(g,null,y(f(k).subFilters,((e,a)=>(r(),s("div",{style:{width:"100%"},key:a},[u(K,{gutter:10},{default:m((()=>[u(W,{span:11},{default:m((()=>[u(Q,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,modelModifiers:{trim:!0},placeholder:"\u539f\u5185\u5bb9"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),u(W,{span:11},{default:m((()=>[u(Q,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,modelModifiers:{trim:!0},placeholder:"\u66ff\u6362\u4e3a"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),u(W,{span:2},{default:m((()=>[u(i,{link:"",onClick:e=>function(e){k.value.subFilters.splice(e,1)}(a),type:"danger"},{default:m((()=>l[26]||(l[26]=[v(" \u5220\u9664 ")]))),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])))),128))])),_:1})):p("",!0),f(k).advanced?(r(),c(Y,{key:4,label:f(k).subFilters.length>0?"\xa0":"\u5185\u5bb9\u66ff\u6362"},{default:m((()=>[u(i,{type:"primary",icon:"plus",onClick:E,disabled:f(k).subFilters.length>=3},{default:m((()=>l[27]||(l[27]=[v(" \u6dfb\u52a0\u5185\u5bb9\u66ff\u6362 ")]))),_:1},8,["disabled"]),l[28]||(l[28]=b("span",{class:"right-tips"}," \u8bf7\u6c42\u54cd\u5e94\u5185\u5bb9\u66ff\u6362\uff0c\u6700\u591a\u53ef\u6dfb\u52a03\u6761,\u65e0\u9700\u66ff\u6362\u8bf7\u7f6e\u7a7a ",-1))])),_:1},8,["label"])):p("",!0)])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]),u(q,{modelValue:f(n),"onUpdate:modelValue":l[12]||(l[12]=e=>h(n)?n.value=e:n=e),title:f(o),width:"680px","before-close":z},{default:m((()=>[u(Z,{modelValue:f(I),"onUpdate:modelValue":l[11]||(l[11]=e=>h(I)?I.value=e:I=e),fontSize:"13px",placeholder:f(I)?"":"\u672a\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6",showLineNums:!0,lineWrapping:!0,height:"500px",mode:"javascript","read-only":!1,ref:"lyCodemirrorConf"},null,8,["modelValue","placeholder"]),u(i,{type:"primary",style:{"margin-top":"10px","margin-bottom":"10px"},onClick:$},{default:m((()=>l[31]||(l[31]=[v("\u4fdd\u5b58\u5e76\u91cd\u8f7d")]))),_:1}),l[32]||(l[32]=b("div",{class:"ry-cj-care"},[b("li",null,"\u5feb\u6377\u952e CTRL+F \u67e5\u627e\u548c\u66ff\u6362\u5185\u5bb9")],-1))])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-50a88cf8"]]),be={class:"ruyi-acme-account"},we={__name:"moduleAddAcmeAccount",emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=M(),n=a;let o=i(!1),p=i(!1),_=i("\u521b\u5efaACME\u8d26\u53f7"),b=i({email:"",type:"letsencrypt"}),w=[{id:"letsencrypt",name:"Let's Encrypt"}];let k=i({email:[{required:!0,message:"\u90ae\u7bb1\u5fc5\u586b\u9879",trigger:"blur"},{validator:function(e,l,a){return l?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(l)?a():a(new Error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740")):a(new Error("\u8bf7\u8f93\u5165\u90ae\u7bb1"))},trigger:["blur","change"]}]});function x(){n("closed")}let V=i(null);function I(){V.value.validate((e=>{if(e){t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u521b\u5efa...";let e={action:"create_acme_account",email:b.value.email,type:b.value.type};D.sysSSLManage(e).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),x(),n("refreshData")):N.warning(e.msg)}))}}))}return l({handleOpen:function(e,l){_.value=l,o.value=!0}}),(e,l)=>{const a=d("el-alert"),t=d("el-input"),n=d("el-form-item"),i=d("el-option"),C=d("el-select"),S=d("el-form"),L=d("el-button");return r(),s("div",be,[u(q,{modelValue:f(o),"onUpdate:modelValue":l[2]||(l[2]=e=>h(o)?o.value=e:o=e),title:f(_),width:"560px","before-close":x,showFullScreen:!1},{footer:m((()=>[u(L,{onClick:x,loading:f(p)},{default:m((()=>l[4]||(l[4]=[v("\u53d6\u6d88")]))),_:1},8,["loading"]),u(L,{type:"primary",onClick:I,loading:f(p)},{default:m((()=>l[5]||(l[5]=[v("\u4fdd\u5b58")]))),_:1},8,["loading"])])),default:m((()=>[u(S,{inline:!1,model:f(b),rules:f(k),ref_key:"rulesForm",ref:V,"label-position":"right","label-width":"auto"},{default:m((()=>[u(a,{style:{"margin-bottom":"15px"}},{default:m((()=>l[3]||(l[3]=[v("\u6b64\u90ae\u7bb1\u8d26\u53f7\u7528\u4e8e\u7533\u8bf7SSL\u8bc1\u4e66")]))),_:1}),u(n,{label:"\u90ae\u7bb1\uff1a",prop:"email"},{default:m((()=>[u(t,{modelValue:f(b).email,"onUpdate:modelValue":l[0]||(l[0]=e=>f(b).email=e),placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",clearable:""},null,8,["modelValue"])])),_:1}),u(n,{label:"\u670d\u52a1\u5546\uff1a",prop:"type"},{default:m((()=>[u(C,{modelValue:f(b).type,"onUpdate:modelValue":l[1]||(l[1]=e=>f(b).type=e),style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9"},{default:m((()=>[(r(!0),s(g,null,y(f(w),((e,l)=>(r(),c(i,{key:l,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}},ke={class:"lySSLApplyDialog"},xe=T({__name:"sslApplyLog",emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=a;let n=i(!1),o=i(!1),d=i("\u65e5\u5fd7\u8be6\u60c5"),c=i({id:"",order_no:""}),p={},g=i(""),y=i("55vh"),v=i("log"),b=i(null),w=i(""),k=i(!1);function x(){C(),t("refreshData"),t("closed")}function C(){clearInterval(b.value),b.value=null}V((()=>{window.addEventListener("resize",M),M()})),I((()=>{window.removeEventListener("resize",M),C()}));let S=i(null);function L(){o.value=!0;let e={id:c.value.id,order_no:c.value.order_no,action:w.value,is_renew:k.value};D.sysGetSSLInfo(e).then((e=>{if(o.value=!1,2e3==e.code){if(g.value=e.data.data,_((()=>{S.value&&S.value.scrollToBottom()})),e.data.done&&(C(),"all"!=w.value)){let l=2e3;e.data.error&&(l=5e3),setTimeout((()=>{x()}),l)}}else N.warning(e.msg),setTimeout((()=>{x()}),2e3)}))}let U=i(null),T=i(!1);function M(){_((()=>{const e=U.value.getRef();if(e.dialogContentRef){const l=e.dialogContentRef.$refs.headerRef.offsetHeight||80,a=document.body.offsetHeight;e.dialogContentRef.fullscreen||T.value?y.value=a-l:y.value="55vh"}}))}function j(e){T.value=e,M()}return l({handleOpen:function(e,l){d.value=l,n.value=!0,e&&(p=P(e),c.value.id=p.site_id,c.value.order_no=p.order_no,k.value=p.is_renew,p.action&&(w.value=p.action),"all"!=w.value?b.value=setInterval((()=>{L()}),1e3):L())}}),(e,l)=>(r(),s("div",ke,[u(q,{ref_key:"codeMirrorDialogRef",ref:U,modelValue:f(n),"onUpdate:modelValue":l[1]||(l[1]=e=>h(n)?n.value=e:n=e),title:f(d),width:"50%",onOnChangeFullScreen:j,"before-close":x,showClose:!1,showFullScreen:!1},{default:m((()=>[u(Z,{modelValue:f(g),"onUpdate:modelValue":l[0]||(l[0]=e=>h(g)?g.value=e:g=e),fontSize:"15px",placeholder:(f(g),""),showLineNums:!1,lineWrapping:!0,mode:f(v),height:f(y),"read-only":!0,ref_key:"lyCodemirror",ref:S},null,8,["modelValue","placeholder","mode","height"])])),_:1},8,["modelValue","title"])]))}},[["__scopeId","data-v-ddb1aecf"]]),Ve={class:"ruyi-letsencrypt"},Ie={key:0},Ce={style:{float:"left"}},Se={key:2,style:{"margin-top":"20px"}},Le={key:0,style:{display:"flex","align-items":"center",width:"100%"}},Ue={key:1,style:{display:"flex","align-items":"center",width:"100%"}},Te={key:1},Me={key:0},De={key:1},Pe=T({__name:"moduleLetsEncrypt",props:{id:{type:[Number,String],default:""}},emits:["refreshData"],setup(e,{emit:l}){const a=e,t=M(),n=l;let o=i(!1),I=i(!1),S=i({email:"",status:!1}),L=i({verifyType:"file",checkedDomains:[],dnsAccount:""}),U=i([]),T=i(!1),P=i({}),j=i([]),R=i([{label:"\u963f\u91cc\u4e91DNS",name:"aliyun",status:!1},{label:"\u817e\u8baf\u4e91DNS",name:"tencent",status:!1}]),E=i(!1),F=i(!1);function O(e){L.value.checkedDomains=e?j.value:[],F.value=!1}function B(e){const l=e.length;E.value=l===j.value.length,F.value=l>0&&l<j.value.length}function G(){I.value=!0,D.sysGetSSLInfo({action:"get_acme_account",type:"letsencrypt"}).then((e=>{I.value=!1,2e3==e.code?S.value=e.data:N.warning(e.msg)}))}function H(){o.value=!0,D.sysGetSSLInfo({action:"get_cert_list",type:"letsencrypt",site_id:a.id}).then((e=>{o.value=!1,2e3==e.code?U.value=e.data:N.warning(e.msg)}))}let z=i(null);function q(){z.value.validate((e=>{if(e){if(!S.value.status)return void N.warning("\u8bf7\u5148\u521b\u5efaAcme\u8d26\u53f7");if(L.value.checkedDomains.length<1)return void N.warning("\u8bf7\u9009\u62e9\u9700\u8981\u7533\u8bf7\u7684\u57df\u540d");t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u7533\u8bf7...";let e={action:"apply_cert_letsencrypt",domains:L.value.checkedDomains,site_id:a.id};D.sysSSLManage(e).then((e=>{if(t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code){N({showClose:!1,message:e.msg,type:"success",duration:2e3});let l=e.data;l&&Z(l,!1),n("refreshData")}else N.warning(e.msg)}))}}))}function $(){if(!S.value.status)return void N.warning("\u8bf7\u5148\u521b\u5efaAcme\u8d26\u53f7");t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u7eed\u7b7e...";let e={action:"renew_cert_letsencrypt",site_id:a.id};D.sysSSLManage(e).then((e=>{if(t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code){N({showClose:!1,message:e.msg,type:"success",duration:2e3});let l=e.data;l&&Z(l,!0),n("refreshData")}else N.warning(e.msg)}))}let A=i(!1),Y=i(null);function W(){A.value=!0,_((()=>{Y.value.handleOpen(null,"\u521b\u5efaACME\u8d26\u53f7")}))}let K=i(!1),J=i(null);function Z(e="",l=!1){K.value=!0;let t={order_no:e,site_id:a.id,action:"get_letsencrypt_log",is_renew:l},n="\u7533\u8bf7SSL\u65e5\u5fd7\u8be6\u60c5";l&&(n="\u7eed\u7b7eSSL\u65e5\u5fd7\u8be6\u60c5"),_((()=>{J.value.handleOpen(t,n)}))}function Q(){H()}return V((()=>{G(),D.sysGetSitesDomainList({site:a.id}).then((e=>{if(2e3==e.code)if(e.data.data.length>0){let l=e.data.data,a=[];l.forEach((e=>{a.push(e.name)})),j.value=[...new Set(a)]}else j.value=[];else N.warning(e.msg)})),H()})),(e,l)=>{const a=d("el-button"),t=d("el-link"),n=d("el-descriptions-item"),i=d("el-tag"),_=d("el-tooltip"),V=d("el-descriptions"),M=d("el-divider"),D=d("el-radio"),H=d("el-radio-group"),N=d("el-form-item"),Z=d("el-option"),ee=d("el-select"),le=d("el-checkbox"),ae=d("el-checkbox-group"),te=d("el-scrollbar"),ne=d("el-form"),oe=d("el-input"),ie=d("el-alert"),de=d("el-col"),se=d("el-row"),re=k("loading");return x((r(),s("div",Ve,[x((r(),c(V,{title:"Acme\u8d26\u6237\u7528\u4e8e\u7533\u8bf7\u514d\u8d39\u8bc1\u4e66(90\u5929)",direction:"vertical",column:3,border:""},{extra:m((()=>[f(S).status?p("",!0):(r(),c(a,{key:0,type:"primary",onClick:W},{default:m((()=>l[11]||(l[11]=[v(w("\u521b\u5efaAcme\u8d26\u6237"))]))),_:1}))])),default:m((()=>[u(n,{label:"\u8d26\u53f7(\u90ae\u7bb1)"},{default:m((()=>[f(S).email?(r(),s("span",Ie,w(f(S).email),1)):(r(),c(t,{key:1,underline:!1,type:"danger",onClick:W},{default:m((()=>l[12]||(l[12]=[v("\u8bf7\u5148\u521b\u5efa")]))),_:1}))])),_:1}),u(n,{label:"\u670d\u52a1\u5546"},{default:m((()=>[u(_,{effect:"dark",content:"Let's Encrypt \u662f\u4e00\u5bb6\u514d\u8d39\u3001\u5f00\u653e\u3001\u81ea\u52a8\u5316\u7684\u8bc1\u4e66\u9881\u53d1\u673a\u6784,\u7531\u975e\u8425\u5229\u7ec4\u7ec7\u4e92\u8054\u7f51\u5b89\u5168\u7814\u7a76\u7ec4(ISRG)\u8fd0\u4f5c",placement:"bottom-end"},{default:m((()=>[u(i,null,{default:m((()=>l[13]||(l[13]=[v("Let's Encrypt")]))),_:1})])),_:1})])),_:1}),u(n,{label:"\u72b6\u6001"},{default:m((()=>[u(i,{type:f(S).email?"success":"info"},{default:m((()=>[v(w(f(S).status?"\u5df2\u521b\u5efa":"\u5f85\u521b\u5efa"),1)])),_:1},8,["type"])])),_:1})])),_:1})),[[re,f(I)]]),f(U).length<1||f(T)?(r(),c(M,{key:0,"content-position":"left"},{default:m((()=>l[14]||(l[14]=[v("\u8bc1\u4e66\u7533\u8bf7\uff08\u9ed8\u8ba4\u81ea\u52a8\u7eed\u7b7e\uff09")]))),_:1})):p("",!0),f(U).length<1||f(T)?(r(),c(ne,{key:1,inline:!1,model:f(L),rules:f(P),ref_key:"rulesForm",ref:z,"label-position":"right","label-width":"auto",style:{padding:"10px 25px 10px 25px"}},{default:m((()=>[u(N,{label:"\u9a8c\u8bc1\u65b9\u6cd5"},{default:m((()=>[u(H,{modelValue:f(L).verifyType,"onUpdate:modelValue":l[0]||(l[0]=e=>f(L).verifyType=e)},{default:m((()=>[u(D,{value:"file",label:"\u6587\u4ef6\u9a8c\u8bc1"})])),_:1},8,["modelValue"]),l[15]||(l[15]=b("span",{class:"right-tips"},"\u6587\u4ef6\u9a8c\u8bc1\u65e0\u6cd5\u7533\u8bf7\u6cdb\u57df\u540d\u89e3\u6790",-1))])),_:1}),"dnsAccount"==f(L).verifyType?(r(),c(N,{key:0,label:"DNS\u8d26\u53f7"},{default:m((()=>[u(ee,{modelValue:f(L).dnsAccount,"onUpdate:modelValue":l[1]||(l[1]=e=>f(L).dnsAccount=e),style:{width:"300px"}},{default:m((()=>[(r(!0),s(g,null,y(f(R),((e,l)=>(r(),c(Z,{key:l,label:e.label,value:e.name},{default:m((()=>[b("span",Ce,w(e.label),1),b("span",{style:C({float:"right",color:e.status?"var(--el-color-success)":"var(--el-text-color-secondary)","font-size":"13px"})},w(e.status?"\u5df2\u914d\u7f6e":"\u672a\u914d\u7f6e"),5)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),u(a,{style:{"margin-left":"10px"}},{default:m((()=>l[16]||(l[16]=[v("\u914d\u7f6e")]))),_:1})])),_:1})):p("",!0),u(N,{label:"\u7533\u8bf7\u57df\u540d"},{default:m((()=>[u(te,{height:"200px",style:{width:"300px",border:"1px solid #f1f1f1",padding:"10px"}},{default:m((()=>[u(le,{modelValue:f(E),"onUpdate:modelValue":l[2]||(l[2]=e=>h(E)?E.value=e:E=e),indeterminate:f(F),onChange:O},{default:m((()=>l[17]||(l[17]=[v("\u5168\u9009")]))),_:1},8,["modelValue","indeterminate"]),u(ae,{modelValue:f(L).checkedDomains,"onUpdate:modelValue":l[3]||(l[3]=e=>f(L).checkedDomains=e),onChange:B,style:{display:"flex","flex-direction":"column","margin-left":"20px"}},{default:m((()=>[(r(!0),s(g,null,y(f(j),((e,l)=>(r(),c(le,{key:l,label:e,value:e},{default:m((()=>[v(w(e),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(N,{label:" "},{default:m((()=>[u(a,{type:"primary",onClick:q},{default:m((()=>l[18]||(l[18]=[v("\u7533\u8bf7\u8bc1\u4e66")]))),_:1}),f(T)?(r(),c(a,{key:0,onClick:l[4]||(l[4]=e=>h(T)?T.value=!1:T=!1)},{default:m((()=>l[19]||(l[19]=[v("\u53d6\u6d88\u91cd\u65b0\u7533\u8bf7")]))),_:1})):p("",!0)])),_:1})])),_:1},8,["model","rules"])):p("",!0),f(U).length>0&&!f(T)?(r(),s("div",Se,[u(V,{title:"\u8bc1\u4e66\u4fe1\u606f",border:!0,column:2,style:{"margin-bottom":"15px"},class:"rydescriptions"},{extra:m((()=>[u(a,{onClick:l[5]||(l[5]=e=>h(T)?T.value=!0:T=!0)},{default:m((()=>l[20]||(l[20]=[v("\u91cd\u65b0\u7533\u8bf7")]))),_:1}),u(a,{type:"primary",onClick:$},{default:m((()=>l[21]||(l[21]=[v("\u7eed\u7b7e\u8bc1\u4e66")]))),_:1})])),default:m((()=>[u(n,{label:"\u7b7e\u540d"},{default:m((()=>[v(w(f(U)[0].certinfo.organization_name||"-"),1)])),_:1}),u(n,{label:"\u8ba4\u8bc1\u57df\u540d/IP"},{default:m((()=>{return[v(w((e=f(U)[0].certinfo,e?e.san_names&&e.san_names.length>0?e.san_names.join("\u3001"):e.common_name:"-")),1)];var e})),_:1}),u(n,{label:"\u8bc1\u4e66\u7c7b\u578b"},{default:m((()=>[f(U)[0].certinfo.common_name?(r(),s("div",Le,[u(i,null,{default:m((()=>[v(w(f(U)[0].certinfo.type||""),1)])),_:1}),"\u81ea\u7b7e\u8bc1\u4e66"==f(U)[0].certinfo.type?(r(),c(a,{key:0,size:"small",type:"primary",style:{"margin-left":"10px","margin-right":"10px"},onClick:e.downlowdFile},{default:m((()=>l[22]||(l[22]=[v("\u70b9\u51fb\u4e0b\u8f7d\u6839\u8bc1\u4e66")]))),_:1},8,["onClick"])):p("",!0),"\u81ea\u7b7e\u8bc1\u4e66"==f(U)[0].certinfo.type?(r(),s("div",Ue,[l[23]||(l[23]=v(" \u8bc1\u4e66\u5bc6\u7801\uff1a ")),u(oe,{modelValue:f(U)[0].root_password,"onUpdate:modelValue":l[6]||(l[6]=e=>f(U)[0].root_password=e),size:"small",style:{width:"100px"},disabled:!0},null,8,["modelValue"]),u(X,{content:f(U)[0].root_password,size:"small"},null,8,["content"])])):p("",!0)])):(r(),s("span",Te,"-"))])),_:1}),u(n,{label:"\u8fc7\u671f\u65f6\u95f4"},{default:m((()=>[f(U)[0].certinfo.not_valid_after?(r(),s("span",Me,[v(w(f(U)[0].certinfo.not_valid_after),1),b("span",{style:C({color:f(U)[0].expire_days>25?"var(--el-color-success)":"var(--el-color-danger)"})},"\uff08\u5269\u4f59\uff1a"+w(f(U)[0].expire_days)+"\u5929\uff09",5)])):(r(),s("span",De,w("-")))])),_:1})])),_:1}),"\u81ea\u7b7e\u8bc1\u4e66"==f(U)[0].certinfo.type?(r(),c(ie,{key:0,type:"success"},{default:m((()=>l[24]||(l[24]=[v("\u3010\u81ea\u7b7e\u8bc1\u4e66\u3011\u4e0d\u88ab\u6d4f\u89c8\u5668\u4fe1\u4efb\uff0c\u6d4f\u89c8\u5668\u4f1a\u663e\u793a\u3010\u4e0d\u5b89\u5168...\u3011\u63d0\u793a\uff0c\u4e0b\u8f7d\u6839\u8bc1\u4e66\u6216\u3010\u7ee7\u7eed\u524d\u5f80...\u3011\u5373\u53ef")]))),_:1})):p("",!0),u(se,{gutter:20},{default:m((()=>[u(de,{xs:24,sm:24,md:12,lg:12,xl:12},{default:m((()=>[b("div",null,[l[25]||(l[25]=b("div",null,"\u79c1\u94a5(KEY)\uff1a",-1)),u(oe,{style:{"margin-top":"5px"},modelValue:f(U)[0].key,"onUpdate:modelValue":l[7]||(l[7]=e=>f(U)[0].key=e),autosize:{minRows:6,maxRows:8},type:"textarea",disabled:!0},null,8,["modelValue"])])])),_:1}),u(de,{xs:24,sm:24,md:12,lg:12,xl:12},{default:m((()=>[b("div",null,[l[26]||(l[26]=b("div",null,"\u8bc1\u4e66(PEM\u683c\u5f0f)\uff1a",-1)),u(oe,{style:{"margin-top":"5px"},modelValue:f(U)[0].cert,"onUpdate:modelValue":l[8]||(l[8]=e=>f(U)[0].cert=e),autosize:{minRows:6,maxRows:8},type:"textarea",disabled:!0},null,8,["modelValue"])])])),_:1})])),_:1})])):p("",!0),f(A)?(r(),c(we,{key:3,ref_key:"addAcmeAccountFlag",ref:Y,onClosed:l[9]||(l[9]=e=>h(A)?A.value=!1:A=!1),onRefreshData:G},null,512)):p("",!0),f(K)?(r(),c(xe,{key:4,ref_key:"sslApplyLogFlag",ref:J,onClosed:l[10]||(l[10]=e=>h(K)?K.value=!1:K=!1),onRefreshData:Q},null,512)):p("",!0)])),[[re,f(o)]])}}},[["__scopeId","data-v-aed8afd4"]]),je={key:0,style:{display:"flex","align-items":"center",width:"100%"}},Re={key:1,style:{display:"flex","align-items":"center",width:"100%"}},Ee={key:1},Fe={key:0},Oe={key:1},Be=T({__name:"moduleCurrentSSL",props:{id:{type:[Number,String],default:""}},emits:["refreshData","jump"],setup(e,{emit:l}){const a=e,t=M(),n=l;let o=i(!1),g=i({key:"",cert:"",certinfo:{},forceHttps:!1,enableHttps:!1,root_password:"",expire_days:0}),y=i({key:[{required:!0,message:"\u79c1\u94a5(KEY)\u5fc5\u586b",trigger:"blur"}],cert:[{required:!0,message:"\u8bc1\u4e66(PEM\u683c\u5f0f)\u5fc5\u586b",trigger:"blur"}]});function h(e){let l=g.value.enableHttps;g.value.enableHttps=!g.value.enableHttps;let n="\u786e\u5b9a\u8981\u5f00\u542fHTTPS\u5417\uff1f",o="\u5f00\u542f";e?(n="\u786e\u5b9a\u8981\u5f00\u542fHTTPS\u5417\uff1f",o="\u5f00\u542f"):(n="\u786e\u5b9a\u8981\u5173\u95edHTTPS\u5417\uff1f",o="\u5173\u95ed"),A.confirm(n,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{t.loadingInfo.isLoading=!0,t.loadingInfo.content=`\u6b63\u5728${o}HTTPS...`,D.sysGetSitesManage({id:a.id,action:"set_site_ssl_status",cont:{status:l}}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success("\u8bbe\u7f6e\u6210\u529f"),g.value.enableHttps=!g.value.enableHttps):N.warning(e.msg)}))})).catch((()=>{}))}function _(e){let l=g.value.forceHttps;g.value.forceHttps=!g.value.forceHttps;let n="\u786e\u5b9a\u8981\u5f00\u542f\u5f3a\u5236HTTPS\u5417\uff1f",o="\u5f00\u542f";e?(n="\u786e\u5b9a\u8981\u5f00\u542f\u5f3a\u5236HTTPS\u5417\uff1f",o="\u5f00\u542f"):(n="\u786e\u5b9a\u8981\u5173\u95ed\u5f3a\u5236HTTPS\u5417\uff1f",o="\u5173\u95ed"),A.confirm(n,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{t.loadingInfo.isLoading=!0,t.loadingInfo.content=`\u6b63\u5728${o}\u5f3a\u5236HTTPS...`,D.sysGetSitesManage({id:a.id,action:"set_site_ssl_forcehttps",cont:{status:l}}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success("\u8bbe\u7f6e\u6210\u529f"),g.value.forceHttps=!g.value.forceHttps):N.warning(e.msg)}))})).catch((()=>{}))}let I=i(null);function S(){I.value.validate((e=>{e&&A.confirm("\u786e\u5b9a\u8981\u4fdd\u5b58\u8bc1\u4e66\u5417\uff1f","\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u8bbe\u7f6e\u8bc1\u4e66...",D.sysGetSitesManage({id:a.id,action:"save_site_ssl_cert",cont:{cert:g.value.cert,key:g.value.key}}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?N.success("\u4fdd\u5b58\u6210\u529f"):N.warning(e.msg)}))})).catch((()=>{}))}))}function L(){"Let's Encrypt"==g.value.certinfo.organization_name&&n("jump","letsencrypt")}return V((()=>{o.value=!0,D.sysGetSitesManage({action:"get_site_cert",id:a.id}).then((e=>{o.value=!1,2e3==e.code?g.value=e.data:N.warning(e.msg)}))})),(e,l)=>{const a=d("el-switch"),t=d("el-form-item"),n=d("el-col"),i=d("el-row"),V=d("el-button"),U=d("el-descriptions-item"),T=d("el-tag"),M=d("el-input"),D=d("el-descriptions"),P=d("el-alert"),j=d("el-form"),R=k("loading");return x((r(),c(j,{inline:!1,model:f(g),rules:f(y),ref_key:"rulesForm",ref:I,"label-position":"top","label-width":"auto"},{default:m((()=>[u(i,null,{default:m((()=>[u(n,{span:6},{default:m((()=>[u(t,{label:"\u542f\u7528HTTPS",prop:"enableHttps","label-position":"right"},{default:m((()=>[u(a,{modelValue:f(g).enableHttps,"onUpdate:modelValue":l[0]||(l[0]=e=>f(g).enableHttps=e),onChange:h},null,8,["modelValue"])])),_:1})])),_:1}),u(n,{span:6},{default:m((()=>[u(t,{label:"\u5f3a\u5236HTTPS",prop:"forceHttps","label-position":"right"},{default:m((()=>[u(a,{modelValue:f(g).forceHttps,"onUpdate:modelValue":l[1]||(l[1]=e=>f(g).forceHttps=e),onChange:_},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(D,{title:"\u8bc1\u4e66\u4fe1\u606f",border:!0,column:2,style:{"margin-bottom":"15px"},class:"rydescriptions"},{extra:m((()=>{return[(e=f(g).certinfo.organization_name,"Let's Encrypt"==e?(r(),c(V,{key:0,type:"primary",onClick:L},{default:m((()=>l[5]||(l[5]=[v("\u7eed\u7b7e\u8bc1\u4e66")]))),_:1})):p("",!0))];var e})),default:m((()=>[u(U,{label:"\u7b7e\u540d"},{default:m((()=>[v(w(f(g).certinfo.organization_name||"-"),1)])),_:1}),u(U,{label:"\u8ba4\u8bc1\u57df\u540d/IP"},{default:m((()=>{return[v(w((e=f(g).certinfo,e?e.san_names&&e.san_names.length>0?e.san_names.join("\u3001"):e.common_name:"-")),1)];var e})),_:1}),u(U,{label:"\u8bc1\u4e66\u7c7b\u578b"},{default:m((()=>[f(g).certinfo.common_name?(r(),s("div",je,[u(T,null,{default:m((()=>[v(w(f(g).certinfo.type||""),1)])),_:1}),"\u81ea\u7b7e\u8bc1\u4e66"==f(g).certinfo.type?(r(),c(V,{key:0,size:"small",type:"primary",style:{"margin-left":"10px","margin-right":"10px"},onClick:e.downlowdFile},{default:m((()=>l[6]||(l[6]=[v("\u70b9\u51fb\u4e0b\u8f7d\u6839\u8bc1\u4e66")]))),_:1},8,["onClick"])):p("",!0),"\u81ea\u7b7e\u8bc1\u4e66"==f(g).certinfo.type?(r(),s("div",Re,[l[7]||(l[7]=v(" \u8bc1\u4e66\u5bc6\u7801\uff1a ")),u(M,{modelValue:f(g).root_password,"onUpdate:modelValue":l[2]||(l[2]=e=>f(g).root_password=e),size:"small",style:{width:"100px"},disabled:!0},null,8,["modelValue"]),u(X,{content:f(g).root_password,size:"small"},null,8,["content"])])):p("",!0)])):(r(),s("span",Ee,"-"))])),_:1}),u(U,{label:"\u8fc7\u671f\u65f6\u95f4"},{default:m((()=>[f(g).certinfo.not_valid_after?(r(),s("span",Fe,[v(w(f(g).certinfo.not_valid_after),1),b("span",{style:C({color:f(g).expire_days>25?"var(--el-color-success)":"var(--el-color-danger)"})},"\uff08\u5269\u4f59\uff1a"+w(f(g).expire_days)+"\u5929\uff09",5)])):(r(),s("span",Oe,w("-")))])),_:1})])),_:1}),"\u81ea\u7b7e\u8bc1\u4e66"==f(g).certinfo.type?(r(),c(P,{key:0,type:"success"},{default:m((()=>l[8]||(l[8]=[v("\u3010\u81ea\u7b7e\u8bc1\u4e66\u3011\u4e0d\u88ab\u6d4f\u89c8\u5668\u4fe1\u4efb\uff0c\u6d4f\u89c8\u5668\u4f1a\u663e\u793a\u3010\u4e0d\u5b89\u5168...\u3011\u63d0\u793a\uff0c\u4e0b\u8f7d\u6839\u8bc1\u4e66\u6216\u3010\u7ee7\u7eed\u524d\u5f80...\u3011\u5373\u53ef")]))),_:1})):p("",!0),u(i,{gutter:20},{default:m((()=>[u(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:m((()=>[u(t,{prop:"key"},{label:m((()=>l[9]||(l[9]=[b("span",null,"\u79c1\u94a5(KEY)\uff1a",-1)]))),default:m((()=>[u(M,{modelValue:f(g).key,"onUpdate:modelValue":l[3]||(l[3]=e=>f(g).key=e),autosize:{minRows:6,maxRows:8},type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1}),u(n,{xs:24,sm:24,md:12,lg:12,xl:12},{default:m((()=>[u(t,{prop:"cert"},{label:m((()=>l[10]||(l[10]=[b("span",null,"\u8bc1\u4e66(PEM\u683c\u5f0f)\uff1a",-1)]))),default:m((()=>[u(M,{modelValue:f(g).cert,"onUpdate:modelValue":l[4]||(l[4]=e=>f(g).cert=e),autosize:{minRows:6,maxRows:8},type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(t,null,{default:m((()=>[u(V,{type:"primary",onClick:S},{default:m((()=>l[11]||(l[11]=[v("\u4fdd\u5b58\u8bc1\u4e66")]))),_:1})])),_:1}),l[12]||(l[12]=b("div",{class:"ry-cj-care"},[b("li",null,"\u7c98\u8d34\u60a8\u7684\u8bc1\u4e66\u79d8\u94a5KEY\u548c\u8bc1\u4e66PEM\u5185\u5bb9\uff0c\u7136\u540e\u3010\u4fdd\u5b58\u8bc1\u4e66\u3011\u5373\u53ef"),b("li",null,"\u82e5\u65e0\u8bc1\u4e66\uff0c\u53ef\u4f7f\u7528\u3010Let's Encrypt\u3011\u8bc1\u4e66\uff0c\u6709\u6548\u671f90\u5929\uff0c\u8bf7\u6ce8\u610f\u53ca\u65f6\u7eed\u7b7e"),b("li",null,"\u4f7f\u7528Let's Encrypt\u8bc1\u4e66\u4e14\u5373\u5c06\u8fc7\u671f\u65f6\uff0c\u70b9\u51fb\u3010\u7eed\u7b7e\u8bc1\u4e66\u3011\u5373\u53ef"),b("li",null,"\u5982\u542f\u7528HTTPS\u540e\u65e0\u6cd5\u4f7f\u7528HTTPS\u8bbf\u95ee\uff0c\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u3010\u9632\u706b\u5899\u3011\u6216\u3010\u5b89\u5168\u7ec4\u3011\u662f\u5426\u653e\u901a443\u7aef\u53e3")],-1))])),_:1},8,["model","rules"])),[[R,f(o)]])}}},[["__scopeId","data-v-850aa927"]]),Ge={class:"ruyi-inner-ssl"},He=T({__name:"moduleNginxSSL",props:{id:{type:[Number,String],default:""}},emits:["refreshData"],setup(e,{emit:l}){M();const a=e;let t=i("current");function n(e){}function o(e){t.value=e}return(e,l)=>{const i=d("el-tab-pane"),g=d("el-tabs");return r(),s("div",Ge,[u(g,{modelValue:f(t),"onUpdate:modelValue":l[0]||(l[0]=e=>h(t)?t.value=e:t=e),onTabClick:n,"tab-position":"top",type:"card"},{default:m((()=>[u(i,{label:"\u5f53\u524d\u8bc1\u4e66",name:"current"},{default:m((()=>["current"==f(t)?(r(),c(Be,{key:0,id:a.id,onJump:o},null,8,["id"])):p("",!0)])),_:1}),u(i,{label:"Let's Encrypt",name:"letsencrypt"},{default:m((()=>["letsencrypt"==f(t)?(r(),c(Pe,{key:0,id:a.id},null,8,["id"])):p("",!0)])),_:1})])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-471e1fb4"]]),ze={class:"lyflex"},qe={class:"lyflex"},$e={class:"lyflex"},Ne=T({__name:"moduleNginxAntiChain",props:{id:{type:[Number,String],default:""}},emits:["refreshData"],setup(e,{emit:l}){const a=M(),t=e;let n=i({status:!1,exts:"js,css,png,jpg,jpeg,gif,ico,bmp,swf,eot,svg,ttf,woff,woff2",noReferer:!0,domains:"",returnCode:"404"}),o=i({exts:[{required:!0,message:"\u8bf7\u8f93\u5165\u6269\u5c55\u540d",trigger:"blur"}],domains:[{required:!0,message:"\u8bf7\u8f93\u5165\u5141\u8bb8\u7684\u57df\u540d",trigger:"change"}],returnCode:[{required:!0,message:"\u8bf7\u8f93\u5165\u54cd\u5e94\u8d44\u6e90",trigger:"blur"}]});let s=i(null);function p(){s.value.validate((e=>{if(e){a.loadingInfo.isLoading=!0,a.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e=n.value;e.domains=e.domains.replace(/\n/g,",");let l={action:"set_site_antichain",id:t.id,cont:e};D.sysGetSitesManage(l).then((e=>{a.loadingInfo.isLoading=!1,a.loadingInfo.content="",2e3==e.code?N.success(e.msg):N.warning(e.msg)}))}}))}return V((()=>{!function(){a.loadingInfo.isLoading=!0,a.loadingInfo.content="";let e={action:"get_site_antichain",id:t.id};D.sysGetSitesManage(e).then((e=>{if(a.loadingInfo.isLoading=!1,2e3===e.code){let l=e.data;l.domains=l.domains.replace(/,/g,"\n"),n.value=l}else N.warning(e.msg)}))}()})),(e,l)=>{const a=d("el-switch"),t=d("el-form-item"),i=d("InfoFilled"),g=d("el-icon"),y=d("el-tooltip"),h=d("el-input"),_=d("el-form"),w=d("el-button"),k=d("el-col"),x=d("el-row");return r(),c(x,{gutter:20},{default:m((()=>[u(k,{xs:24,sm:20,md:20,lg:20,xl:20},{default:m((()=>[u(_,{model:f(n),rules:f(o),ref_key:"rulesForm",ref:s,"label-position":"right","label-width":"auto",style:{"margin-left":"10px"}},{default:m((()=>[u(t,{label:"\u542f\u7528\u9632\u76d7\u94fe"},{default:m((()=>[u(a,{modelValue:f(n).status,"onUpdate:modelValue":l[0]||(l[0]=e=>f(n).status=e)},null,8,["modelValue"])])),_:1}),u(t,{label:"\u6269\u5c55\u540d",prop:"exts"},{label:m((()=>[b("div",ze,[l[5]||(l[5]=b("div",{style:{"margin-right":"3px"}},"\u6269\u5c55\u540d",-1)),u(y,{effect:"dark",content:"\u6587\u4ef6\u540e\u7f00,\u4f7f\u7528','\u5206\u9694,\u5982: png,jpg",placement:"top-start"},{default:m((()=>[u(g,null,{default:m((()=>[u(i)])),_:1})])),_:1})])])),default:m((()=>[u(h,{modelValue:f(n).exts,"onUpdate:modelValue":l[1]||(l[1]=e=>f(n).exts=e),type:"text"},null,8,["modelValue"])])),_:1}),u(t,{label:"\u5141\u8bb8\u7a7a\u6765\u6e90",prop:"noReferer"},{label:m((()=>[b("div",qe,[l[6]||(l[6]=b("div",{style:{"margin-right":"3px"}},"\u5141\u8bb8\u7a7a\u6765\u6e90",-1)),u(y,{effect:"dark",content:"\u5141\u8bb8\u7a7aHTTP_REFERER\u7684header\u8bf7\u6c42",placement:"top-start"},{default:m((()=>[u(g,null,{default:m((()=>[u(i)])),_:1})])),_:1})])])),default:m((()=>[u(a,{modelValue:f(n).noReferer,"onUpdate:modelValue":l[2]||(l[2]=e=>f(n).noReferer=e)},null,8,["modelValue"])])),_:1}),u(t,{label:"\u5141\u8bb8\u57df\u540d",prop:"domains"},{default:m((()=>[u(h,{modelValue:f(n).domains,"onUpdate:modelValue":l[3]||(l[3]=e=>f(n).domains=e),placeholder:"\u4e00\u884c\u4e00\u4e2a\u57df\u540d",type:"textarea",autosize:{minRows:6,maxRows:20}},null,8,["modelValue"])])),_:1}),u(t,{label:"\u54cd\u5e94\u8d44\u6e90",prop:"returnCode"},{label:m((()=>[b("div",$e,[l[7]||(l[7]=b("div",{style:{"margin-right":"3px"}},"\u54cd\u5e94\u8d44\u6e90",-1)),u(y,{effect:"dark",content:"\u4e00\u822c\u8bbe\u7f6e\u4e3a404/403\u7b49\u72b6\u6001\u7801\uff0c\u4e5f\u53ef\u4e3a\u4e00\u4e2a\u8d44\u6e90(URI\u8def\u5f84\u5982\uff1a/ry.jpg)",placement:"top-start"},{default:m((()=>[u(g,null,{default:m((()=>[u(i)])),_:1})])),_:1})])])),default:m((()=>[u(h,{modelValue:f(n).returnCode,"onUpdate:modelValue":l[4]||(l[4]=e=>f(n).returnCode=e),type:"text",maxlength:35},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),u(w,{type:"primary",onClick:p,style:{float:"right"}},{default:m((()=>l[8]||(l[8]=[v("\u4fdd\u5b58\u5e76\u91cd\u8f7d")]))),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-075ced4a"]]),Ae={class:"lyWebSettingsDialog"},Ye={style:{display:"flex",width:"100%"}},We={style:{display:"flex"}},Ke={style:{"margin-right":"10px","margin-left":"30px"}},Je={style:{"margin-right":"10px","margin-left":"30px"}},Ze=T({__name:"nginxSettings",props:{data:{type:Object}},emits:["refreshData","closed"],setup(e,{expose:l,emit:a}){const t=M(),n=a;let o=i(""),g=i(!1),y=i(!1),k=i(!1),x=i(null),V=i(null),I=i(!1),C=i(null),S=i(!1),L=i(null),U=i({id:null,name:"",path:"",error_log:"",access_log:"",is_error_log:!0,is_access_log:!0,status:!1,conf:"",oldConf:"",tmpDomains:"",defaultDocs:""}),T=i([]);let j=i({tmpDomains:[{required:!0,trigger:"change",validator:function(e,l,a){const t=l.split("\n");let n=!0,o="";t.forEach(((e,l)=>{""!==e&&(function(e){return/^([\w\-\*]{1,150}\.){1,8}([\w\-]{1,30}|[\w\-]{1,30}\.[\w\-]{1,24})(?::\d{1,5})?$/.test(e)}(e)||function(e){return/^(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(?::\d{1,5})?$/.test(e)}(e)||(n=!1,o=`\u7b2c${l+1}\u884c\u683c\u5f0f\u4e0d\u6b63\u786e: ${e}`))})),n?a():a(new Error(o))}}]});function R(){n("closed")}let E=i("baseSettings");let F=i(null);function O(){t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u83b7\u53d6\u9519\u8bef\u65e5\u5fd7...",D.sysGetSitesManage({id:U.value.id,action:"get_site_log",op:"error_log"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.value.error_log=e.data,_((()=>{F.value&&F.value.scrollToBottom()}))):N.warning(e.msg)}))}let B=i(null);function G(){t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u83b7\u53d6\u8bbf\u95ee\u65e5\u5fd7...",D.sysGetSitesManage({id:U.value.id,action:"get_site_log",op:"error_log"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.value.access_log=e.data,_((()=>{B.value&&B.value.scrollToBottom()}))):N.warning(e.msg)}))}function H(e){let l=U.value.is_error_log;U.value.is_error_log=!U.value.is_error_log;let a="\u786e\u5b9a\u8981\u5173\u95ed\u9519\u8bef\u65e5\u5fd7\u5417\uff1f";a=e?"\u786e\u5b9a\u8981\u5f00\u542f\u9519\u8bef\u65e5\u5fd7\u5417\uff1f":"\u786e\u5b9a\u8981\u5173\u95ed\u9519\u8bef\u65e5\u5fd7\u5417\uff1f",A.confirm(a,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((a=>{D.sysGetSitesManage({id:U.value.id,status:l,action:"site_log_open",op:"error_log"}).then((l=>{2e3==l.code?(N.success("\u4fee\u6539\u6210\u529f"),U.value.is_error_log=e):N.warning(l.msg)}))})).catch((()=>{}))}function z(e){let l=U.value.is_access_log;U.value.is_access_log=!U.value.is_access_log;let a="\u786e\u5b9a\u8981\u5173\u95ed\u8bbf\u95ee\u65e5\u5fd7\u5417\uff1f";a=e?"\u786e\u5b9a\u8981\u5f00\u542f\u8bbf\u95ee\u65e5\u5fd7\u5417\uff1f":"\u786e\u5b9a\u8981\u5173\u95ed\u8bbf\u95ee\u65e5\u5fd7\u5417\uff1f",A.confirm(a,"\u63d0\u9192",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{D.sysGetSitesManage({id:U.value.id,status:l,action:"site_log_open",op:"access_log"}).then((e=>{2e3==e.code?(N.success("\u4fee\u6539\u6210\u529f"),U.value.is_access_log=!U.value.is_access_log):N.warning(e.msg)}))})).catch((()=>{}))}function Y(){t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u83b7\u53d6\u57df\u540d\u5217\u8868...",D.sysGetSitesDomainList({site:U.value.id}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?T.value=e.data.data:N.warning(e.msg)}))}function W(){t.loadingInfo.isLoading=!0,t.loadingInfo.content="",D.sysGetSitesManage({id:U.value.id,action:"get_site_base"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.value.path=e.data.path,U.value.defaultDocs=e.data.indexDocs.replace(/,/g,"\n")):N.warning(e.msg)}))}function K(e){"baseSettings"==e.props.name?W():"domainSettings"==e.props.name?Y():"error_log"==e.props.name?O():"access_log"==e.props.name?G():"edit_conf"===e.props.name&&(t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6...",D.sysGetSitesManage({id:U.value.id,action:"get_site_conf"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(U.value.conf=e.data,U.value.oldConf=e.data):N.warning(e.msg)})))}function J(){if(U.value.oldConf==U.value.conf)return void N.warning("\u914d\u7f6e\u6587\u4ef6\u672a\u53d8\u52a8\uff0c\u65e0\u9700\u4fdd\u5b58!!!");if(""==U.value.conf||null==U.value.conf)return void N.warning("\u914d\u7f6e\u6587\u4ef6\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e");A.confirm("\u786e\u5b9a\u8981\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6\u5417\uff1f","\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6...",D.sysGetSitesManage({id:U.value.id,conf:U.value.conf,action:"save_site_conf"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?N.success("\u4fdd\u5b58\u6210\u529f,\u5e76\u91cd\u8f7d\u914d\u7f6e"):N.warning(e.msg)}))})).catch((()=>{}))}function X(e){e?(clearInterval(x.value),x.value=setInterval((()=>{O()}),5e3)):(clearInterval(x.value),x.value=null)}function Q(e){e?(clearInterval(V.value),V.value=setInterval((()=>{G()}),5e3)):(clearInterval(V.value),V.value=null)}let ee=i(null);function le(){ee.value.validate((e=>{if(e){const e=U.value.tmpDomains.split("\n");let l={action:"add_site_domain",id:U.value.id,domainList:e};t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u6dfb\u52a0\u57df\u540d...",D.sysSitesDomainMg(l).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),U.value.tmpDomains="",ee.value.resetFields(),Y()):N.warning(e.msg)}))}}))}function ae(e){I.value=e}function te(){S.value=!0,_((()=>{C.value.handleOpen({path:U.value.path,isDir:!0},"\u76ee\u5f55\u9009\u62e9")}))}function ne(e){U.value.path=e}function oe(){t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e={action:"set_site_path",id:U.value.id,path:U.value.path};D.sysGetSitesManage(e).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),L.value.path=U.value.path):N.warning(e.msg)}))}function ie(){t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u4fdd\u5b58...";let e={action:"set_site_indexdoc",id:U.value.id,indexdoc:U.value.defaultDocs.replace(/\n/g,",")};D.sysGetSitesManage(e).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),W()):N.warning(e.msg)}))}return l({handleOpen:function(e,l){o.value=l,g=!0,e&&(L.value=P(e),U.value.id=L.value.id,U.value.name=L.value.name,U.value.status=L.value.status,U.value.path=L.value.path,U.value.is_error_log=L.value.error_log,U.value.is_access_log=L.value.access_log,"baseSettings"==E.value&&W())}}),(e,l)=>{const a=d("el-button"),n=d("el-input"),i=d("el-form-item"),_=d("el-col"),x=d("el-row"),V=d("el-tab-pane"),L=d("el-form"),M=d("el-link"),P=d("el-table-column"),O=d("el-table"),G=d("el-switch"),W=d("InfoFilled"),de=d("el-icon"),se=d("el-tooltip"),re=d("el-tabs"),ue=d("el-main");return r(),s("div",Ae,[u(q,{modelValue:f(g),"onUpdate:modelValue":l[12]||(l[12]=e=>h(g)?g.value=e:g=e),title:f(o),width:"60%","before-close":R,onOnChangeFullScreen:ae},{default:m((()=>[u(ue,null,{default:m((()=>[u(re,{"tab-position":"left",modelValue:f(E),"onUpdate:modelValue":l[10]||(l[10]=e=>h(E)?E.value=e:E=e),onTabClick:K},{default:m((()=>[u(V,{label:"\u57fa\u672c\u8bbe\u7f6e",name:"baseSettings"},{default:m((()=>[u(x,{gutter:20},{default:m((()=>[u(_,{xs:24,sm:20,md:20,lg:20,xl:20,style:{"padding-left":"20px"}},{default:m((()=>[u(i,{label:"\u7f51\u7ad9\u76ee\u5f55\uff1a",class:"is-required"},{default:m((()=>[b("div",Ye,[u(n,{modelValue:f(U).path,"onUpdate:modelValue":l[0]||(l[0]=e=>f(U).path=e)},{append:m((()=>[u(a,{onClick:te,icon:"Folder",class:"panelsave"},{default:m((()=>l[13]||(l[13]=[v("\u9009\u62e9")]))),_:1})])),_:1},8,["modelValue"]),u(a,{type:"primary",style:{"margin-left":"20px"},onClick:oe},{default:m((()=>l[14]||(l[14]=[v("\u4fdd\u5b58")]))),_:1})])])),_:1}),b("div",We,[u(i,{label:"\u9ed8\u8ba4\u6587\u6863\uff1a",prop:"defaultDocs",class:"is-required",style:{width:"100%"}},{default:m((()=>[u(n,{modelValue:f(U).defaultDocs,"onUpdate:modelValue":l[1]||(l[1]=e=>f(U).defaultDocs=e),autosize:{minRows:5,maxRows:8},type:"textarea",placeholder:"\u8bf7\u8f93\u5165\u9ed8\u8ba4\u6587\u6863\u540d\u79f0\uff0c\u4e00\u884c\u4e00\u4e2a\n\u683c\u5f0f\uff1aindex.html",clearable:""},null,8,["modelValue"])])),_:1}),u(i,null,{default:m((()=>[u(a,{type:"primary",onClick:ie,style:{"margin-left":"20px"}},{default:m((()=>l[15]||(l[15]=[v("\u4fdd\u5b58")]))),_:1})])),_:1})])])),_:1})])),_:1})])),_:1}),u(V,{label:"\u57df\u540d\u8bbe\u7f6e",name:"domainSettings"},{default:m((()=>[u(L,{inline:!0,model:f(U),rules:f(j),ref_key:"rulesForm",ref:ee,"label-position":"right","label-width":"auto",style:{"margin-bottom":"20px"}},{default:m((()=>[u(i,{label:"\u57df\u540d\uff1a",prop:"tmpDomains",style:{width:"80%"}},{default:m((()=>[u(n,{modelValue:f(U).tmpDomains,"onUpdate:modelValue":l[2]||(l[2]=e=>f(U).tmpDomains=e),autosize:{minRows:5,maxRows:8},type:"textarea",placeholder:"\u8bf7\u8f93\u5165\u7f51\u7ad9\u57df\u540d\uff0c\u652f\u6301\u591a\u4e2a\uff08\u57df\u540d\u3001IP)+\u7aef\u53e3\uff08\u9ed8\u8ba480\uff09\uff0c\u4e00\u884c\u4e00\u4e2a\n\u57df\u540d\u683c\u5f0f1\uff1awww.lybbn.cn\n\u57df\u540d\u683c\u5f0f2\uff1awww.lybbn.cn:8080\nIP\u683c\u5f0f\uff1a192.168.1.1:8080\n\u6cdb\u89e3\u6790\uff1a*.lybbn.cn",clearable:""},null,8,["modelValue"])])),_:1}),u(i,null,{default:m((()=>[u(a,{type:"primary",onClick:le},{default:m((()=>l[16]||(l[16]=[v("\u4fdd\u5b58")]))),_:1})])),_:1})])),_:1},8,["model","rules"]),u(O,{border:"",data:f(T),"max-height":"500"},{default:m((()=>[u(P,{prop:"name",label:"\u57df\u540d","min-width":"200","show-overflow-tooltip":""},{default:m((e=>[u(M,{type:"primary",href:"http://"+e.row.name,target:"_blank"},{default:m((()=>[v(w(e.row.name),1)])),_:2},1032,["href"])])),_:1}),u(P,{prop:"port",label:"\u7aef\u53e3","min-width":"100"}),u(P,{fixed:"right",label:"\u64cd\u4f5c",width:"100"},{default:m((e=>[u(a,{link:"",type:"primary",onClick:l=>{return a=e.row,void A.confirm("\u786e\u8ba4\u8981\u5220\u9664\u8be5\u57df\u540d\u5417\uff1f","\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{t.loadingInfo.isLoading=!0,D.sysSitesDomainMg({sid:U.value.id,id:a.id,domain:a.name,port:a.port,action:"del_site_domain"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),Y()):N.warning(e.msg)}))})).catch((()=>{}));var a},disabled:f(T).length<2},{default:m((()=>l[17]||(l[17]=[v("\u5220\u9664")]))),_:2},1032,["onClick","disabled"])])),_:1})])),_:1},8,["data"])])),_:1}),u(V,{label:"SSL\u8bbe\u7f6e",name:"ssl"},{default:m((()=>["ssl"==f(E)?(r(),c(He,{key:0,class:"ruyiSSLMg",id:f(U).id},null,8,["id"])):p("",!0)])),_:1}),u(V,{label:"\u53cd\u5411\u4ee3\u7406",name:"proxy"},{default:m((()=>["proxy"==f(E)?(r(),c(_e,{key:0,class:"ruyiNginxRedirect",id:f(U).id},null,8,["id"])):p("",!0)])),_:1}),u(V,{label:"\u6d41\u91cf\u9650\u5236",name:"lllimit"},{default:m((()=>["lllimit"==f(E)?(r(),c(he,{key:0,id:f(U).id},null,8,["id"])):p("",!0)])),_:1}),u(V,{label:"\u9632\u76d7\u94fe",name:"fangdao"},{default:m((()=>["fangdao"==f(E)?(r(),c(Ne,{key:0,id:f(U).id},null,8,["id"])):p("",!0)])),_:1}),u(V,{label:"\u91cd\u5b9a\u5411",name:"redirect"},{default:m((()=>["redirect"==f(E)?(r(),c(ve,{key:0,class:"ruyiNginxRedirect",id:f(U).id},null,8,["id"])):p("",!0)])),_:1}),u(V,{label:"\u914d\u7f6e\u6587\u4ef6",name:"edit_conf"},{default:m((()=>[u(Z,{modelValue:f(U).conf,"onUpdate:modelValue":l[3]||(l[3]=e=>f(U).conf=e),fontSize:"13px",placeholder:f(U).conf?"":"\u672a\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6",showLineNums:!0,lineWrapping:!0,mode:"javascript",height:f(I)?"80vh":"60vh","read-only":!1,ref:"lyCodemirrorConf"},null,8,["modelValue","placeholder","height"]),u(a,{type:"primary",style:{"margin-top":"10px","margin-bottom":"10px"},onClick:J},{default:m((()=>l[18]||(l[18]=[v("\u4fdd\u5b58\u5e76\u91cd\u8f7d")]))),_:1}),l[19]||(l[19]=b("div",{class:"ry-cj-care"},[b("li",null,"\u82e5\u60a8\u4e0d\u4e86\u89e3Nginx\u7684\u914d\u7f6e\u6587\u4ef6\u89c4\u5219\uff0c\u8bf7\u52ff\u968f\u610f\u4fee\u6539!!!"),b("li",null,"\u5feb\u6377\u952e CTRL+F \u67e5\u627e\u548c\u66ff\u6362\u5185\u5bb9")],-1))])),_:1}),u(V,{label:"\u9519\u8bef\u65e5\u5fd7",name:"error_log"},{default:m((()=>[b("div",null,[l[21]||(l[21]=b("span",{style:{"margin-right":"10px"}},"\u65e5\u5fd7\u5f00\u5173",-1)),u(G,{modelValue:f(U).is_error_log,"onUpdate:modelValue":l[4]||(l[4]=e=>f(U).is_error_log=e),onChange:H},null,8,["modelValue"]),b("span",Ke,[l[20]||(l[20]=v(" \u5b9a\u65f6\u5237\u65b0 ")),u(se,{effect:"dark",content:"\u9ed8\u8ba45\u79d2\u5237\u65b0\u4e00\u6b21",placement:"top-start"},{default:m((()=>[u(de,null,{default:m((()=>[u(W)])),_:1})])),_:1})]),u(G,{modelValue:f(y),"onUpdate:modelValue":l[5]||(l[5]=e=>h(y)?y.value=e:y=e),onChange:X},null,8,["modelValue"])]),u(Z,{modelValue:f(U).error_log,"onUpdate:modelValue":l[6]||(l[6]=e=>f(U).error_log=e),fontSize:"13px",placeholder:f(U).error_log?"":"\u5f53\u524d\u6ca1\u6709\u9519\u8bef\u65e5\u5fd7\uff01",showLineNums:!1,lineWrapping:!1,mode:"log",height:f(I)?"86vh":"65vh","read-only":!0,ref_key:"lyCodemirrorErrorLog",ref:F},null,8,["modelValue","placeholder","height"])])),_:1}),u(V,{label:"\u8bbf\u95ee\u65e5\u5fd7",name:"access_log"},{default:m((()=>[b("div",null,[l[23]||(l[23]=b("span",{style:{"margin-right":"10px"}},"\u65e5\u5fd7\u5f00\u5173",-1)),u(G,{modelValue:f(U).is_access_log,"onUpdate:modelValue":l[7]||(l[7]=e=>f(U).is_access_log=e),onChange:z},null,8,["modelValue"]),b("span",Je,[l[22]||(l[22]=v(" \u5b9a\u65f6\u5237\u65b0 ")),u(se,{effect:"dark",content:"\u9ed8\u8ba45\u79d2\u5237\u65b0\u4e00\u6b21",placement:"top-start"},{default:m((()=>[u(de,null,{default:m((()=>[u(W)])),_:1})])),_:1})]),u(G,{modelValue:f(k),"onUpdate:modelValue":l[8]||(l[8]=e=>h(k)?k.value=e:k=e),onChange:Q},null,8,["modelValue"])]),u(Z,{modelValue:f(U).access_log,"onUpdate:modelValue":l[9]||(l[9]=e=>f(U).access_log=e),fontSize:"13px",placeholder:f(U).error_log?"":"\u5f53\u524d\u6ca1\u6709\u8bbf\u95ee\u65e5\u5fd7\uff01",showLineNums:!1,lineWrapping:!1,mode:"log",height:f(I)?"86vh":"65vh","read-only":!0,ref_key:"lyCodemirrorAccessLog",ref:B},null,8,["modelValue","placeholder","height"])])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(S)?(r(),c($,{key:0,class:"ruyidirchoice",ref_key:"choosePathDirFlag",ref:C,onChange:ne,onClosed:l[11]||(l[11]=e=>h(S)?S.value=!1:S=!1)},null,512)):p("",!0)])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-1757eb11"]]),Xe={class:"ruyi-static-site"},Qe={style:{"margin-bottom":"20px"},class:"lystatuscard"},el={class:"lyflex"},ll={class:"lyflex"},al={class:"lyflex"},tl={class:"handle-top"},nl={class:"search-sites-input"},ol={class:"lyczj",style:{display:"flex","align-items":"center"}},il=["onClick"],dl={key:0,style:{"font-size":"12px","font-weight":"bold"}},sl={key:0},rl={key:1},ul={key:0},cl={key:1},pl={key:0},ml={key:1},fl=T({__name:"index",setup(e,{expose:l}){const a=J(),t=M(),n=G();let I=S((()=>n.ismobile)),T=i(!1),P=i(null),j=i(!1),R=i(null),E=i(!1),F=i(null),O=i(!1),B=i("nginx"),q=i({id:"",installed:!1,version:"",status:!1,name:""});function $(e="nginx"){""!=e&&(t.loadingInfo.isLoading=!0,t.loadingInfo.content="\u6b63\u5728\u83b7\u53d6...",D.sysSoftinfoMg({name:e,action:"get_soft_info"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?q.value=e.data:N.warning(e.msg)})))}function Y(){$(B.value)}let Z=i([{id:0,name:"\u9ed8\u8ba4\u5206\u7ec4"}]),X=i({page:1,limit:10}),ee=i({page:1,limit:10,total:0}),le=i([]);function ae(e){X.value.page=e.page,X.value.limit=e.limit,ie()}function ie(){T.value=!0;let e=o({},X.value);e.module=0,D.sysGetSitesList(e).then((e=>{T.value=!1,2e3===e.code&&(e.data.data.forEach((e=>{e.showEndDate=!1})),le.value=e.data.data,ee.value.page=e.data.page,ee.value.limit=e.data.limit,ee.value.total=e.data.total)}))}function de(){X.value.page=1,ie()}let re=i(!1),ue=i(null);function ce(){re.value=!0,_((()=>{ue.value.handleOpen(null,"\u6dfb\u52a0\u7ad9\u70b9")}))}let pe=i(null),me=i(!1);function fe(){me.value=!0,_((()=>{pe.value.handleOpen(null,"\u7ad9\u70b9\u5206\u7ec4\u7ba1\u7406")}))}function ge(e){j.value=!0,_((()=>{P.value.handleOpen(e,`\u7ad9\u70b9\u3010${e.name}\u3011\u8bbe\u7f6e`)}))}function ye(e,l){let a="\u786e\u5b9a\u542f\u52a8\u7ad9\u70b9\u5417\uff1f";"stop"==e&&(a="\u505c\u6b62\u7ad9\u70b9\u540e\uff0c\u8bbf\u95ee\u8be5\u7ad9\u70b9\u4f1a\u663e\u793a\u5f53\u524d\u7ad9\u70b9\u505c\u6b62\u9875\u9762\uff0c\u662f\u5426\u7ee7\u7eed\uff1f"),A.confirm(`${a}`,"\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((a=>{t.loadingInfo.isLoading=!0,D.sysGetSitesManage({id:l,op:e,action:"status_static_site"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),ie()):N.warning(e.msg)}))})).catch((()=>{}))}function ve(){O.value=!0,_((()=>{F.value.handleOpen(null,"\u9ed8\u8ba4\u7ad9\u70b9\u8bbe\u7f6e")}))}let he=i(!1),_e=i(null);let be=i(!1),we=i(null);function ke(){be.value=!0,_((()=>{we.value.handleOpen(q.value,"\u3010"+q.value.name+"("+q.value.version+")\u3011\u7ba1\u7406")}))}function xe(e="stop"){let l="\u786e\u5b9a\u8981\u505c\u6b62\u5417\uff1f",a=!1,n="\u542f\u52a8\u6210\u529f";"stop"==e?(t.loadingInfo.content="\u6b63\u5728\u505c\u6b62\u4e2d...",a=!1,n="\u505c\u6b62\u6210\u529f"):"reload"==e?(t.loadingInfo.content="\u6b63\u5728\u91cd\u8f7d\u914d\u7f6e\u4e2d...",l="\u786e\u5b9a\u8981\u91cd\u8f7d\u914d\u7f6e\u5417\uff1f",a=q.value.status,n="\u91cd\u8f7d\u914d\u7f6e\u6210\u529f"):"restart"==e&&(t.loadingInfo.content=q.value.status?"\u6b63\u5728\u91cd\u542f\u4e2d...":"\u6b63\u5728\u542f\u52a8\u4e2d...",l=q.value.status?"\u786e\u5b9a\u8981\u91cd\u542f\u5417\uff1f":"\u786e\u5b9a\u8981\u542f\u52a8\u5417\uff1f",a=!0,n=q.value.status?"\u91cd\u542f\u6210\u529f":"\u542f\u52a8\u6210\u529f"),A.confirm(`${l}`,"\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((l=>{t.loadingInfo.isLoading=!0,D.sysSoftManage({id:q.value.id,status:e,action:"status"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(n),q.value.status=a):N.warning(e.msg)}))})).catch((()=>{}))}function Ve(){_((()=>{D.sysSitegroup({page:1,limit:999}).then((e=>{2e3===e.code&&(Z.value=e.data.data)})),ie()}))}return l({RefreshData:Ve}),V((()=>{B.value=t.sysConfig.webServer,$(B.value),Ve()})),(e,l)=>{const n=d("el-tag"),o=d("el-button"),i=d("el-divider"),V=d("el-card"),S=d("arrow-down"),M=d("el-icon"),G=d("el-dropdown-item"),$=d("el-dropdown-menu"),J=d("el-dropdown"),Ve=d("el-col"),Ie=d("el-option"),Ce=d("el-select"),Se=d("el-input"),Le=d("el-row"),Ue=d("el-link"),Te=d("el-table-column"),Me=d("el-tooltip"),De=d("el-text"),Pe=d("el-table"),je=k("loading");return r(),s("div",Xe,[b("div",Qe,[u(V,{shadow:"hover",style:C({overflowX:f(I)?"auto":"none"})},{default:m((()=>[b("div",el,[f(B)?(r(),c(n,{key:0,style:{"margin-right":"20px"},effect:"dark",type:"success"},{default:m((()=>[v(w(f(B)),1)])),_:1})):p("",!0),u(n,{style:{"margin-right":"20px"},type:f(q).installed?"success":"info"},{default:m((()=>[v(w(f(q).installed?"\u5df2\u5b89\u88c5":"\u672a\u5b89\u88c5"),1)])),_:1},8,["type"]),u(n,{style:{"margin-right":"20px"}},{default:m((()=>[v("\u7248\u672c: "+w(f(q).version||"\u672a\u77e5"),1)])),_:1}),u(n,{style:{"margin-right":"20px"},type:f(q).status?"success":"danger"},{default:m((()=>[v("\u72b6\u6001: "+w(f(q).status?"\u5df2\u542f\u52a8":"\u672a\u542f\u52a8"),1)])),_:1},8,["type"]),b("div",ll,[u(o,{type:"primary",link:"",onClick:l[0]||(l[0]=e=>xe("stop")),disabled:!f(q).installed},{default:m((()=>l[15]||(l[15]=[v("\u505c\u6b62")]))),_:1},8,["disabled"]),u(i,{direction:"vertical"}),u(o,{type:"primary",link:"",onClick:l[1]||(l[1]=e=>xe("restart")),disabled:!f(q).installed},{default:m((()=>[v(w(f(q).status?"\u91cd\u542f":"\u542f\u52a8"),1)])),_:1},8,["disabled"])]),b("div",al,[u(i,{direction:"vertical"}),u(o,{type:"primary",link:"",onClick:l[2]||(l[2]=e=>xe("reload")),disabled:!f(q).installed},{default:m((()=>l[16]||(l[16]=[v(w("\u91cd\u8f7d"))]))),_:1},8,["disabled"]),u(i,{direction:"vertical"}),u(o,{type:"primary",link:"",onClick:ke,disabled:!f(q).installed},{default:m((()=>l[17]||(l[17]=[v(w("\u8bbe\u7f6e"))]))),_:1},8,["disabled"])])])])),_:1},8,["style"])]),b("div",tl,[u(Le,null,{default:m((()=>[u(Ve,{xs:24,sm:16,md:16,lg:16,xl:16},{default:m((()=>[u(o,{type:"primary",onClick:ce,disabled:!f(q).status},{default:m((()=>l[18]||(l[18]=[v("\u6dfb\u52a0\u7ad9\u70b9")]))),_:1},8,["disabled"]),u(o,{type:"primary",plain:"",onClick:fe},{default:m((()=>l[19]||(l[19]=[v("\u5206\u7ec4")]))),_:1}),u(o,{icon:"refresh",circle:"",onClick:de}),u(J,null,{dropdown:m((()=>[u($,null,{default:m((()=>[u(G,{onClick:ve},{default:m((()=>l[21]||(l[21]=[v("\u9ed8\u8ba4\u7ad9\u70b9")]))),_:1})])),_:1})])),default:m((()=>[u(o,{plain:""},{default:m((()=>[l[20]||(l[20]=v(" \u9ad8\u7ea7\u8bbe\u7f6e")),u(M,{class:"el-icon--right"},{default:m((()=>[u(S)])),_:1})])),_:1})])),_:1})])),_:1}),u(Ve,{xs:24,sm:8,md:8,lg:8,xl:8},{default:m((()=>[b("div",nl,[u(Ce,{modelValue:f(X).group,"onUpdate:modelValue":l[3]||(l[3]=e=>f(X).group=e),style:{width:"280px","margin-right":"10px"},filterable:"",clearable:""},{prefix:m((()=>l[22]||(l[22]=[v("\u5206\u7ec4")]))),default:m((()=>[(r(!0),s(g,null,y(f(Z),(e=>(r(),c(Ie,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),u(Se,{modelValue:f(X).search,"onUpdate:modelValue":l[4]||(l[4]=e=>f(X).search=e),clearable:"",onClear:l[5]||(l[5]=e=>de()),"suffix-icon":"Search",onKeyup:l[6]||(l[6]=L((e=>de()),["enter"])),onChange:l[7]||(l[7]=e=>de()),placeholder:"\u641c\u7d22"},null,8,["modelValue"])])])),_:1})])),_:1})]),x((r(),c(Pe,{data:f(le),style:{width:"100%","border-top":"1px solid var(--el-border-color-lighter)"},"header-cell-class-name":"table-header-style"},{default:m((()=>[u(Te,{prop:"name",label:"\u540d\u79f0","min-width":"180"},{default:m((e=>[u(Ue,{type:"primary",underline:!1,onClick:U((l=>ge(e.row)),["stop"])},{default:m((()=>[v(w(e.row.name),1)])),_:2},1032,["onClick"])])),_:1}),u(Te,{prop:"status",label:"\u72b6\u6001",width:"130"},{default:m((({row:e})=>[e.status?(r(),c(o,{key:0,link:"",type:"success",icon:"VideoPlay",onClick:l=>ye("stop",e.id)},{default:m((()=>l[23]||(l[23]=[v(" \u5df2\u542f\u52a8 ")]))),_:2},1032,["onClick"])):(r(),c(o,{key:1,link:"",type:"danger",icon:"VideoPause",onClick:l=>ye("start",e.id)},{default:m((()=>l[24]||(l[24]=[v(" \u5df2\u505c\u6b62 ")]))),_:2},1032,["onClick"]))])),_:1}),u(Te,{prop:"path",label:"\u6839\u76ee\u5f55",width:"90"},{default:m((e=>[b("div",ol,[u(Me,{effect:"dark",content:e.row.path,placement:"bottom"},{default:m((()=>[b("img",{class:"ruyi-fileicons",src:H,onClick:l=>{var n;(n=e.row).path&&(t.fileInfo.currentDir=n.path,a.push({path:"/files"}))}},null,8,il)])),_:2},1032,["content"]),e.row.is_default?(r(),s("span",dl,"(\u9ed8\u8ba4\u7ad9)")):p("",!0)])])),_:1}),u(Te,{label:"\u5907\u4efd",width:"100"},{default:m((e=>[u(De,{type:e.row.bakNums<1?"info":"primary",style:{cursor:"pointer"},onClick:l=>{return a=e.row,he.value=!0,void _((()=>{_e.value.handleOpen(a,"\u3010"+a.name+"\u3011\u7ad9\u70b9\u5907\u4efd")}));var a}},{default:m((()=>[e.row.bakNums<1?(r(),s("span",sl,"\u65e0")):p("",!0),l[25]||(l[25]=v("\u5907\u4efd")),e.row.bakNums>0?(r(),s("span",rl,w("("+e.row.bakNums+")"),1)):p("",!0)])),_:2},1032,["type","onClick"])])),_:1}),u(Te,{prop:"endTime",label:"\u5230\u671f\u65f6\u95f4","min-width":"100"},{default:m((({row:e,$index:l})=>[u(Ue,{type:"primary",underline:!1,onClick:l=>function(e){E.value=!0,_((()=>{R.value.handleOpen(e,`\u3010${e.name}\u3011\u4fee\u6539\u5230\u671f\u65f6\u95f4`)}))}(e)},{default:m((()=>[e.endTime?(r(),s("span",cl,w(e.endTime),1)):(r(),s("span",ul," \u6c38\u4e0d\u8fc7\u671f "))])),_:2},1032,["onClick"])])),_:1}),u(Te,{prop:"sslinfo",label:"SSL",width:"100"},{default:m((e=>[e.row.sslinfo.enableHttps?(r(),s("span",pl,[b("span",{style:C({color:e.row.sslinfo.expire_days>25?"var(--el-color-success)":"var(--el-color-danger)"})},"\u5269\u4f59"+w(e.row.sslinfo.expire_days)+"\u5929",5)])):(r(),s("span",ml))])),_:1}),u(Te,{prop:"remark",label:"\u5907\u6ce8","min-width":"100","show-overflow-tooltip":""}),u(Te,{prop:"create_at",label:"\u521b\u5efa\u65f6\u95f4","min-width":"170"}),u(Te,{fixed:!f(I)&&"right",label:"\u64cd\u4f5c",width:"130"},{default:m((e=>[u(o,{link:"",type:"primary",onClick:l=>ge(e.row)},{default:m((()=>l[26]||(l[26]=[v("\u914d\u7f6e")]))),_:2},1032,["onClick"]),u(o,{link:"",type:"primary",onClick:l=>{return a=e.row,void A.confirm(`\u786e\u5b9a\u8981\u5220\u9664\u3010${a.name}\u3011\u7ad9\u70b9\u5417\uff1f\u6b64\u64cd\u4f5c\u4f1a\u5220\u9664\u8be5\u7f51\u7ad9\u7684\u65e5\u5fd7\u3001\u7ad9\u70b9\u76ee\u5f55\u3001\u914d\u7f6e\u4fe1\u606f\u7b49\uff01\uff01\uff01`,"\u8b66\u544a",{closeOnClickModal:!1,cancelButtonText:"\u53d6\u6d88",confirmButtonText:"\u786e\u5b9a",type:"warning"}).then((e=>{t.loadingInfo.isLoading=!0,D.sysGetSitesManage({id:a.id,action:"del_static_site"}).then((e=>{t.loadingInfo.isLoading=!1,t.loadingInfo.content="",2e3==e.code?(N.success(e.msg),ie()):N.warning(e.msg)}))})).catch((()=>{}));var a}},{default:m((()=>l[27]||(l[27]=[v("\u5220\u9664")]))),_:2},1032,["onClick"])])),_:1},8,["fixed"])])),_:1},8,["data"])),[[je,f(T)]]),u(z,{small:!0,"child-msg":f(ee),onCallFather:ae,border:!1,position:"right"},null,8,["child-msg"]),f(re)?(r(),c(Q,{key:0,ref_key:"moduleAddFlag",ref:ue,onRefreshData:ie,onClosed:l[8]||(l[8]=e=>h(re)?re.value=!1:re=!1)},null,512)):p("",!0),f(me)?(r(),c(te,{key:1,ref_key:"moduleGroupFlag",ref:pe,onClosed:l[9]||(l[9]=e=>h(me)?me.value=!1:me=!1)},null,512)):p("",!0),f(j)?(r(),c(Ze,{key:2,ref_key:"nginxSettingsFlag",ref:P,onClosed:l[10]||(l[10]=e=>h(j)?j.value=!1:j=!1)},null,512)):p("",!0),f(E)?(r(),c(ne,{key:3,ref_key:"endTimeFlag",ref:R,onRefreshData:ie,onClosed:l[11]||(l[11]=e=>h(E)?E.value=!1:E=!1)},null,512)):p("",!0),f(O)?(r(),c(oe,{key:4,ref_key:"defaultSiteFlag",ref:F,onRefreshData:ie,onClosed:l[12]||(l[12]=e=>h(O)?O.value=!1:O=!1)},null,512)):p("",!0),f(he)?(r(),c(se,{key:5,ref_key:"moduleBackupFlag",ref:_e,onRefreshData:ie,onClosed:l[13]||(l[13]=e=>h(he)?he.value=!1:he=!1)},null,512)):p("",!0),f(be)?(r(),c(W,{key:6,ref_key:"softInfoFlag",ref:we,onClosed:l[14]||(l[14]=e=>h(be)?be.value=!1:be=!1),onRefreshStatus:Y},null,512)):p("",!0),u(K,{installed:f(q).installed,tips:"\u5f53\u524d\u672a\u5b89\u88c5Web\u670d\u52a1\u5668\u73af\u5883"},null,8,["installed"])])}}},[["__scopeId","data-v-e8e767fa"]]);export{fl as default};
