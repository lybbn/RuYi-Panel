import{L as e}from"./dialog.DfP35yxJ.js";import{l}from"./index.BNOrQDSs.js";import{_ as a}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{E as o}from"./element-plus.WT5mSVn7.js";import{b as s,ai as t,aq as u,o as n,M as i,O as r,U as d,u as p,S as c,P as m,D as f}from"./@vue.BMBj57q3.js";const h=a({__name:"moduleRunLogs",props:{apiObj:{type:Function,default:null},successCode:{type:Number,default:2e3},fullscreen:{type:Boolean,default:!1},height:{type:[Number,String],default:"auto"},width:{type:String,default:"50%"}},emits:["closed"],setup(a,{expose:h,emit:g}){const v=a,b=g;let j=s(null),y=s(""),_=s(!1),O=s(""),w=s({}),x=s(!1);function V(){b("closed")}function C(){x.value=!0;var e={};Object.assign(e,w.value),v.apiObj&&v.apiObj!={}?v.apiObj(e).then((e=>{x.value=!1,e.code==v.successCode?y.value=e.data:o.warning(e.msg)})):x.value=!1}return h({handleOpen:function(e,l){O.value=l,_.value=!0,w.value=Object.assign(w.value,e),C()}}),(o,s)=>{const h=t("el-link"),g=u("loading");return n(),i(e,{class:"ruyi-runlog",modelValue:p(_),"onUpdate:modelValue":s[1]||(s[1]=e=>f(_)?_.value=e:_=e),title:p(O),width:a.width,"before-close":V,fullscreen:a.fullscreen,showFullScreen:!1},{default:r((()=>[d(h,{underline:!1,icon:"refresh",onClick:C,disabled:p(x),style:{position:"absolute",top:"70px",right:"2vh","z-index":"2222"},type:"success"},{default:r((()=>s[2]||(s[2]=[c("\u5237\u65b0")]))),_:1},8,["disabled"]),m(d(l,{modelValue:p(y),"onUpdate:modelValue":s[0]||(s[0]=e=>f(y)?y.value=e:y=e),placeholder:p(y)?"":"\u6682\u65e0\u6570\u636e",showLineNums:!1,lineWrapping:!0,mode:"log",height:a.height,"read-only":!0,bottom:!0,ref_key:"lyCodemirror",ref:j},null,8,["modelValue","placeholder","height"]),[[g,p(x)]])])),_:1},8,["modelValue","title","width","fullscreen"])}}},[["__scopeId","data-v-6872c378"]]);export{h as m};
