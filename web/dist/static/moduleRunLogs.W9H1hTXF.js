import{L as e}from"./dialog.Bsrh65Nu.js";import{l}from"./index.CLtx-Eae.js";import{_ as a}from"./index.FQhv3U_5.js";import{E as s}from"./element-plus.C3E-FvSa.js";import{r as t,ag as o,aq as u,G as n,o as i,H as d,P as r,I as p,u as c,L as m,t as f}from"./@vue.CQt2tj-6.js";const h=a({__name:"moduleRunLogs",props:{apiObj:{type:Function,default:null},successCode:{type:Number,default:2e3},fullscreen:{type:Boolean,default:!1},height:{type:[Number,String],default:"auto"},width:{type:String,default:"50%"}},emits:["closed"],setup(a,{expose:h,emit:g}){const v=a,b=g;let j=t(null),y=t(""),_=t(!1),w=t(""),O=t({}),x=t(!1);function V(){b("closed")}function C(){x.value=!0;var e={};Object.assign(e,O.value),v.apiObj&&v.apiObj!={}?v.apiObj(e).then((e=>{x.value=!1,e.code==v.successCode?y.value=e.data:s.warning(e.msg)})):x.value=!1}return h({handleOpen:function(e,l){w.value=l,_.value=!0,O.value=Object.assign(O.value,e),C()}}),(s,t)=>{const h=o("el-link"),g=u("loading");return i(),n(e,{class:"ruyi-runlog",modelValue:c(_),"onUpdate:modelValue":t[1]||(t[1]=e=>f(_)?_.value=e:_=e),title:c(w),width:a.width,"before-close":V,fullscreen:a.fullscreen,showFullScreen:!1},{default:d((()=>[r(h,{underline:!1,icon:"refresh",onClick:C,disabled:c(x),style:{position:"absolute",top:"70px",right:"2vh","z-index":"2222"},type:"success"},{default:d((()=>t[2]||(t[2]=[m("\u5237\u65b0")]))),_:1},8,["disabled"]),p(r(l,{modelValue:c(y),"onUpdate:modelValue":t[0]||(t[0]=e=>f(y)?y.value=e:y=e),placeholder:c(y)?"":"\u6682\u65e0\u6570\u636e",showLineNums:!1,lineWrapping:!0,mode:"log",height:a.height,"read-only":!0,bottom:!0,ref_key:"lyCodemirror",ref:j},null,8,["modelValue","placeholder","height"]),[[g,c(x)]])])),_:1},8,["modelValue","title","width","fullscreen"])}}},[["__scopeId","data-v-6872c378"]]);export{h as m};
