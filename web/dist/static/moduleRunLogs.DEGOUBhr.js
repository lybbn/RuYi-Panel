import{L as e}from"./dialog.BvK2-1BY.js";import{l}from"./index.GhyFdw6y.js";import{_ as a}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{E as t}from"./element-plus.CMBwCou9.js";import{b as o,ag as s,aq as u,o as n,G as i,H as r,P as d,u as p,L as c,I as m,t as f}from"./@vue.BluSRtaz.js";const h=a({__name:"moduleRunLogs",props:{apiObj:{type:Function,default:null},successCode:{type:Number,default:2e3},fullscreen:{type:Boolean,default:!1},height:{type:[Number,String],default:"auto"},width:{type:String,default:"50%"}},emits:["closed"],setup(a,{expose:h,emit:g}){const v=a,b=g;let j=o(null),y=o(""),_=o(!1),w=o(""),O=o({}),x=o(!1);function V(){b("closed")}function C(){x.value=!0;var e={};Object.assign(e,O.value),v.apiObj&&v.apiObj!={}?v.apiObj(e).then((e=>{x.value=!1,e.code==v.successCode?y.value=e.data:t.warning(e.msg)})):x.value=!1}return h({handleOpen:function(e,l){w.value=l,_.value=!0,O.value=Object.assign(O.value,e),C()}}),(t,o)=>{const h=s("el-link"),g=u("loading");return n(),i(e,{class:"ruyi-runlog",modelValue:p(_),"onUpdate:modelValue":o[1]||(o[1]=e=>f(_)?_.value=e:_=e),title:p(w),width:a.width,"before-close":V,fullscreen:a.fullscreen,showFullScreen:!1},{default:r((()=>[d(h,{underline:!1,icon:"refresh",onClick:C,disabled:p(x),style:{position:"absolute",top:"70px",right:"2vh","z-index":"2222"},type:"success"},{default:r((()=>o[2]||(o[2]=[c("\u5237\u65b0")]))),_:1},8,["disabled"]),m(d(l,{modelValue:p(y),"onUpdate:modelValue":o[0]||(o[0]=e=>f(y)?y.value=e:y=e),placeholder:p(y)?"":"\u6682\u65e0\u6570\u636e",showLineNums:!1,lineWrapping:!0,mode:"log",height:a.height,"read-only":!0,bottom:!0,ref_key:"lyCodemirror",ref:j},null,8,["modelValue","placeholder","height"]),[[g,p(x)]])])),_:1},8,["modelValue","title","width","fullscreen"])}}},[["__scopeId","data-v-6872c378"]]);export{h as m};
